{"version":3,"sources":["app/application.coffee","app/initialize.coffee","app/lib/state_model.coffee","app/lib/timezones.coffee","app/routes/index.coffee","app/states/auth.coffee","app/states/registration.coffee","app/views/app_layout.coffee","app/views/auth/feedback.coffee","app/views/auth/index.coffee","app/views/lib/form_view.coffee","app/views/register/controls.coffee","app/views/register/email.coffee","app/views/register/feedback.coffee","app/views/register/import.coffee","app/views/register/import_google.coffee","app/views/register/index.coffee","app/views/register/preset.coffee","app/views/register/setup.coffee","app/views/register/welcome.coffee","app/views/templates/layout_app.jade","app/views/templates/view_auth.jade","app/views/templates/view_auth_feedback.jade","app/views/templates/view_base.jade","app/views/templates/view_register_controls.jade","app/views/templates/view_register_email.jade","app/views/templates/view_register_feedback.jade","app/views/templates/view_register_import.jade","app/views/templates/view_register_import_google.jade","app/views/templates/view_register_preset.jade","app/views/templates/view_register_setup.jade","app/views/templates/view_register_welcome.jade"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA","file":"public/scripts/app.js","sourcesContent":["###\napplication\n\nMain application that create a Mn.Application singleton and exposes it. Needs\nrouter and app_layout view.\n###\n\nRouter    = require 'routes'\nAppLayout = require 'views/app_layout'\n\n\nclass Application extends Backbone.Marionette.Application\n\n    ###\n    Sets application\n\n    We instanciate root application components\n    - router: we pass the app reference to it to easily get it without requiring\n              application module later.\n    - layout: the application layout view, rendered.\n    ###\n    initialize: ->\n        @on 'start', (options) =>\n            @router = new Router app: @\n\n            @layout = new AppLayout()\n            @layout.render()\n\n            # Use pushState because URIs do *not* rely on fragment (see\n            # `server/controllers/routes.coffee` file)\n            Backbone.history.start pushState: true if Backbone.history\n            Object.freeze @ if typeof Object.freeze is 'function'\n\n\n# Exports Application singleton instance\nmodule.exports = new Application()\n","###\nApplication bootstrap\n\nSets the browser environment to prepare it to launch the app, and then require\nthe application.\n###\n\napplication = require './application'\n\n\n###\nPolyglot initialization\n\nLocales need to be loaded in Polyglot before using it. We need to declares a\nglobal translator `t` method to use it in Marionette templates.\n\nWe use the `html[lang]` attribute to get the correct locale.\n###\ninitLocale = ->\n        locale = $('html').attr 'lang'\n        try phrases = require \"locales/#{locale}\"\n        catch e\n            phrases = require 'locales/en'\n        polyglot = new Polyglot phrases: phrases, locale: locale\n        # Temporary use a global variable to store the `t` helpers, waiting for\n        # Marionette allow to register global helpers.\n        # see https://github.com/marionettejs/backbone.marionette/issues/2164\n        window.t = polyglot.t.bind polyglot\n\n###\nStarts\n\nTrigger locale initilization and starts application singleton.\n###\n$ ->\n    initLocale()\n    application.start()\n","###\nState-Machines top-level class\n\nWhen building a state-machine (a viewModel object propulsed by Bacon), this\ntop-level class is used to provides common methods an properties.\n###\n\nmodule.exports = class StateModel\n\n    # Properties stores to state-machines Bacon properties\n    properties: {}\n\n    # The internal _cache object stores the properties values. Not really the\n    # good way to do it, but useful for the toJSON method called in\n    # Backbone.View.render method.\n    #\n    # TODO: find a new way to get properties values instead of caching them\n    # (which is totally contradictory with the FRP philosophy).\n    _cache: {}\n\n\n    ###\n    Initialize\n\n    If a hash of key:values is passed at initialization, they're added to the\n    state-machine properties as a Bacon.constant property.\n    ###\n    constructor: (options) ->\n        @add key, Bacon.constant(value) for key, value of options\n        @initialize()\n\n\n    initialize: ->\n\n\n    ###\n    Get property\n\n    Returns the property from the `properties` object\n    ###\n    get: (name) ->\n        if @properties[name] then @properties[name]\n        else Bacon.constant(undefined)\n\n\n    ###\n    Add property\n\n    Add a property to the `properties` object. When a new property is added, a\n    handler is binded to its changes to updates the internal `_cache` object\n    with its new value.\n    ###\n    add: (name, property) ->\n        unless @properties[name]\n            @properties[name] = property\n            property.onValue (value) =>\n                @_cache[name] = value\n        return property\n\n\n    ###\n    `toJSON` simplies returns the `_cache` object to get current properties\n    values.\n    ###\n    toJSON: ->\n        return @_cache\n","###\nTimezones\n\nExposes an array of all available timezones.\n###\n\nmodule.exports = [\n    \"Europe/Paris\"\n    \"Europe/Berlin\"\n    \"Europe/Madrid\"\n    \"Europe/Rome\"\n    \"America/Los_Angeles\"\n    \"America/New_York\"\n    \"Africa/Abidjan\"\n    \"Africa/Accra\"\n    \"Africa/Addis_Ababa\"\n    \"Africa/Algiers\"\n    \"Africa/Asmara\"\n    \"Africa/Bamako\"\n    \"Africa/Bangui\"\n    \"Africa/Banjul\"\n    \"Africa/Bissau\"\n    \"Africa/Blantyre\"\n    \"Africa/Brazzaville\"\n    \"Africa/Bujumbura\"\n    \"Africa/Cairo\"\n    \"Africa/Casablanca\"\n    \"Africa/Ceuta\"\n    \"Africa/Conakry\"\n    \"Africa/Dakar\"\n    \"Africa/Dar_es_Salaam\"\n    \"Africa/Djibouti\"\n    \"Africa/Douala\"\n    \"Africa/El_Aaiun\"\n    \"Africa/Freetown\"\n    \"Africa/Gaborone\"\n    \"Africa/Harare\"\n    \"Africa/Johannesburg\"\n    \"Africa/Kampala\"\n    \"Africa/Khartoum\"\n    \"Africa/Kigali\"\n    \"Africa/Kinshasa\"\n    \"Africa/Lagos\"\n    \"Africa/Libreville\"\n    \"Africa/Lome\"\n    \"Africa/Luanda\"\n    \"Africa/Lubumbashi\"\n    \"Africa/Lusaka\"\n    \"Africa/Malabo\"\n    \"Africa/Maputo\"\n    \"Africa/Maseru\"\n    \"Africa/Mbabane\"\n    \"Africa/Mogadishu\"\n    \"Africa/Monrovia\"\n    \"Africa/Nairobi\"\n    \"Africa/Ndjamena\"\n    \"Africa/Niamey\"\n    \"Africa/Nouakchott\"\n    \"Africa/Ouagadougou\"\n    \"Africa/Porto-Novo\"\n    \"Africa/Sao_Tome\"\n    \"Africa/Tripoli\"\n    \"Africa/Tunis\"\n    \"Africa/Windhoek\"\n    \"America/Adak\"\n    \"America/Anchorage\"\n    \"America/Anguilla\"\n    \"America/Antigua\"\n    \"America/Araguaina\"\n    \"America/Argentina/Buenos_Aires\"\n    \"America/Argentina/Catamarca\"\n    \"America/Argentina/Cordoba\"\n    \"America/Argentina/Jujuy\"\n    \"America/Argentina/La_Rioja\"\n    \"America/Argentina/Mendoza\"\n    \"America/Argentina/Rio_Gallegos\"\n    \"America/Argentina/Salta\"\n    \"America/Argentina/San_Juan\"\n    \"America/Argentina/San_Luis\"\n    \"America/Argentina/Tucuman\"\n    \"America/Argentina/Ushuaia\"\n    \"America/Aruba\"\n    \"America/Asuncion\"\n    \"America/Atikokan\"\n    \"America/Bahia\"\n    \"America/Barbados\"\n    \"America/Belem\"\n    \"America/Belize\"\n    \"America/Blanc-Sablon\"\n    \"America/Boa_Vista\"\n    \"America/Bogota\"\n    \"America/Boise\"\n    \"America/Cambridge_Bay\"\n    \"America/Campo_Grande\"\n    \"America/Cancun\"\n    \"America/Caracas\"\n    \"America/Cayenne\"\n    \"America/Cayman\"\n    \"America/Chicago\"\n    \"America/Chihuahua\"\n    \"America/Costa_Rica\"\n    \"America/Cuiaba\"\n    \"America/Curacao\"\n    \"America/Danmarkshavn\"\n    \"America/Dawson\"\n    \"America/Dawson_Creek\"\n    \"America/Denver\"\n    \"America/Detroit\"\n    \"America/Dominica\"\n    \"America/Edmonton\"\n    \"America/Eirunepe\"\n    \"America/El_Salvador\"\n    \"America/Fortaleza\"\n    \"America/Glace_Bay\"\n    \"America/Godthab\"\n    \"America/Goose_Bay\"\n    \"America/Grand_Turk\"\n    \"America/Grenada\"\n    \"America/Guadeloupe\"\n    \"America/Guatemala\"\n    \"America/Guayaquil\"\n    \"America/Guyana\"\n    \"America/Halifax\"\n    \"America/Havana\"\n    \"America/Hermosillo\"\n    \"America/Indiana/Indianapolis\"\n    \"America/Indiana/Knox\"\n    \"America/Indiana/Marengo\"\n    \"America/Indiana/Petersburg\"\n    \"America/Indiana/Tell_City\"\n    \"America/Indiana/Vevay\"\n    \"America/Indiana/Vincennes\"\n    \"America/Indiana/Winamac\"\n    \"America/Inuvik\"\n    \"America/Iqaluit\"\n    \"America/Jamaica\"\n    \"America/Juneau\"\n    \"America/Kentucky/Louisville\"\n    \"America/Kentucky/Monticello\"\n    \"America/La_Paz\"\n    \"America/Lima\"\n    \"America/Los_Angeles\"\n    \"America/Maceio\"\n    \"America/Managua\"\n    \"America/Manaus\"\n    \"America/Martinique\"\n    \"America/Matamoros\"\n    \"America/Mazatlan\"\n    \"America/Menominee\"\n    \"America/Merida\"\n    \"America/Mexico_City\"\n    \"America/Miquelon\"\n    \"America/Moncton\"\n    \"America/Monterrey\"\n    \"America/Montevideo\"\n    \"America/Montreal\"\n    \"America/Montserrat\"\n    \"America/Nassau\"\n    \"America/New_York\"\n    \"America/Nipigon\"\n    \"America/Nome\"\n    \"America/Noronha\"\n    \"America/North_Dakota/Center\"\n    \"America/North_Dakota/New_Salem\"\n    \"America/Ojinaga\"\n    \"America/Panama\"\n    \"America/Pangnirtung\"\n    \"America/Paramaribo\"\n    \"America/Phoenix\"\n    \"America/Port-au-Prince\"\n    \"America/Port_of_Spain\"\n    \"America/Porto_Velho\"\n    \"America/Puerto_Rico\"\n    \"America/Rainy_River\"\n    \"America/Rankin_Inlet\"\n    \"America/Recife\"\n    \"America/Regina\"\n    \"America/Resolute\"\n    \"America/Rio_Branco\"\n    \"America/Santa_Isabel\"\n    \"America/Santarem\"\n    \"America/Santiago\"\n    \"America/Santo_Domingo\"\n    \"America/Sao_Paulo\"\n    \"America/Scoresbysund\"\n    \"America/St_Johns\"\n    \"America/St_Kitts\"\n    \"America/St_Lucia\"\n    \"America/St_Thomas\"\n    \"America/St_Vincent\"\n    \"America/Swift_Current\"\n    \"America/Tegucigalpa\"\n    \"America/Thule\"\n    \"America/Thunder_Bay\"\n    \"America/Tijuana\"\n    \"America/Toronto\"\n    \"America/Tortola\"\n    \"America/Vancouver\"\n    \"America/Whitehorse\"\n    \"America/Winnipeg\"\n    \"America/Yakutat\"\n    \"America/Yellowknife\"\n    \"Antarctica/Casey\"\n    \"Antarctica/Davis\"\n    \"Antarctica/DumontDUrville\"\n    \"Antarctica/Mawson\"\n    \"Antarctica/McMurdo\"\n    \"Antarctica/Palmer\"\n    \"Antarctica/Rothera\"\n    \"Antarctica/Syowa\"\n    \"Antarctica/Vostok\"\n    \"Asia/Aden\"\n    \"Asia/Almaty\"\n    \"Asia/Amman\"\n    \"Asia/Anadyr\"\n    \"Asia/Aqtau\"\n    \"Asia/Aqtobe\"\n    \"Asia/Ashgabat\"\n    \"Asia/Baghdad\"\n    \"Asia/Bahrain\"\n    \"Asia/Baku\"\n    \"Asia/Bangkok\"\n    \"Asia/Beirut\"\n    \"Asia/Bishkek\"\n    \"Asia/Brunei\"\n    \"Asia/Choibalsan\"\n    \"Asia/Chongqing\"\n    \"Asia/Colombo\"\n    \"Asia/Damascus\"\n    \"Asia/Dhaka\"\n    \"Asia/Dili\"\n    \"Asia/Dubai\"\n    \"Asia/Dushanbe\"\n    \"Asia/Gaza\"\n    \"Asia/Harbin\"\n    \"Asia/Ho_Chi_Minh\"\n    \"Asia/Hong_Kong\"\n    \"Asia/Hovd\"\n    \"Asia/Irkutsk\"\n    \"Asia/Jakarta\"\n    \"Asia/Jayapura\"\n    \"Asia/Jerusalem\"\n    \"Asia/Kabul\"\n    \"Asia/Kamchatka\"\n    \"Asia/Karachi\"\n    \"Asia/Kashgar\"\n    \"Asia/Kathmandu\"\n    \"Asia/Kolkata\"\n    \"Asia/Krasnoyarsk\"\n    \"Asia/Kuala_Lumpur\"\n    \"Asia/Kuching\"\n    \"Asia/Kuwait\"\n    \"Asia/Macau\"\n    \"Asia/Magadan\"\n    \"Asia/Makassar\"\n    \"Asia/Manila\"\n    \"Asia/Muscat\"\n    \"Asia/Nicosia\"\n    \"Asia/Novokuznetsk\"\n    \"Asia/Novosibirsk\"\n    \"Asia/Omsk\"\n    \"Asia/Oral\"\n    \"Asia/Phnom_Penh\"\n    \"Asia/Pontianak\"\n    \"Asia/Pyongyang\"\n    \"Asia/Qatar\"\n    \"Asia/Qyzylorda\"\n    \"Asia/Rangoon\"\n    \"Asia/Riyadh\"\n    \"Asia/Sakhalin\"\n    \"Asia/Samarkand\"\n    \"Asia/Seoul\"\n    \"Asia/Shanghai\"\n    \"Asia/Singapore\"\n    \"Asia/Taipei\"\n    \"Asia/Tashkent\"\n    \"Asia/Tbilisi\"\n    \"Asia/Tehran\"\n    \"Asia/Thimphu\"\n    \"Asia/Tokyo\"\n    \"Asia/Ulaanbaatar\"\n    \"Asia/Urumqi\"\n    \"Asia/Vientiane\"\n    \"Asia/Vladivostok\"\n    \"Asia/Yakutsk\"\n    \"Asia/Yekaterinburg\"\n    \"Asia/Yerevan\"\n    \"Atlantic/Azores\"\n    \"Atlantic/Bermuda\"\n    \"Atlantic/Canary\"\n    \"Atlantic/Cape_Verde\"\n    \"Atlantic/Faroe\"\n    \"Atlantic/Madeira\"\n    \"Atlantic/Reykjavik\"\n    \"Atlantic/South_Georgia\"\n    \"Atlantic/St_Helena\"\n    \"Atlantic/Stanley\"\n    \"Australia/Adelaide\"\n    \"Australia/Brisbane\"\n    \"Australia/Broken_Hill\"\n    \"Australia/Currie\"\n    \"Australia/Darwin\"\n    \"Australia/Eucla\"\n    \"Australia/Hobart\"\n    \"Australia/Lindeman\"\n    \"Australia/Lord_Howe\"\n    \"Australia/Melbourne\"\n    \"Australia/Perth\"\n    \"Australia/Sydney\"\n    \"Canada/Atlantic\"\n    \"Canada/Central\"\n    \"Canada/Eastern\"\n    \"Canada/Mountain\"\n    \"Canada/Newfoundland\"\n    \"Canada/Pacific\"\n    \"Europe/Amsterdam\"\n    \"Europe/Andorra\"\n    \"Europe/Athens\"\n    \"Europe/Belgrade\"\n    \"Europe/Berlin\"\n    \"Europe/Brussels\"\n    \"Europe/Bucharest\"\n    \"Europe/Budapest\"\n    \"Europe/Chisinau\"\n    \"Europe/Copenhagen\"\n    \"Europe/Dublin\"\n    \"Europe/Gibraltar\"\n    \"Europe/Helsinki\"\n    \"Europe/Istanbul\"\n    \"Europe/Kaliningrad\"\n    \"Europe/Kiev\"\n    \"Europe/Lisbon\"\n    \"Europe/London\"\n    \"Europe/Luxembourg\"\n    \"Europe/Madrid\"\n    \"Europe/Malta\"\n    \"Europe/Minsk\"\n    \"Europe/Monaco\"\n    \"Europe/Moscow\"\n    \"Europe/Oslo\"\n    \"Europe/Paris\"\n    \"Europe/Prague\"\n    \"Europe/Riga\"\n    \"Europe/Rome\"\n    \"Europe/Samara\"\n    \"Europe/Simferopol\"\n    \"Europe/Sofia\"\n    \"Europe/Stockholm\"\n    \"Europe/Tallinn\"\n    \"Europe/Tirane\"\n    \"Europe/Uzhgorod\"\n    \"Europe/Vaduz\"\n    \"Europe/Vienna\"\n    \"Europe/Vilnius\"\n    \"Europe/Volgograd\"\n    \"Europe/Warsaw\"\n    \"Europe/Zaporozhye\"\n    \"Europe/Zurich\"\n    \"GMT\"\n    \"Indian/Antananarivo\"\n    \"Indian/Chagos\"\n    \"Indian/Christmas\"\n    \"Indian/Cocos\"\n    \"Indian/Comoro\"\n    \"Indian/Kerguelen\"\n    \"Indian/Mahe\"\n    \"Indian/Maldives\"\n    \"Indian/Mauritius\"\n    \"Indian/Mayotte\"\n    \"Indian/Reunion\"\n    \"Pacific/Apia\"\n    \"Pacific/Auckland\"\n    \"Pacific/Chatham\"\n    \"Pacific/Easter\"\n    \"Pacific/Efate\"\n    \"Pacific/Enderbury\"\n    \"Pacific/Fakaofo\"\n    \"Pacific/Fiji\"\n    \"Pacific/Funafuti\"\n    \"Pacific/Galapagos\"\n    \"Pacific/Gambier\"\n    \"Pacific/Guadalcanal\"\n    \"Pacific/Guam\"\n    \"Pacific/Honolulu\"\n    \"Pacific/Johnston\"\n    \"Pacific/Kiritimati\"\n    \"Pacific/Kosrae\"\n    \"Pacific/Kwajalein\"\n    \"Pacific/Majuro\"\n    \"Pacific/Marquesas\"\n    \"Pacific/Midway\"\n    \"Pacific/Nauru\"\n    \"Pacific/Niue\"\n    \"Pacific/Norfolk\"\n    \"Pacific/Noumea\"\n    \"Pacific/Pago_Pago\"\n    \"Pacific/Palau\"\n    \"Pacific/Pitcairn\"\n    \"Pacific/Ponape\"\n    \"Pacific/Port_Moresby\"\n    \"Pacific/Rarotonga\"\n    \"Pacific/Saipan\"\n    \"Pacific/Tahiti\"\n    \"Pacific/Tarawa\"\n    \"Pacific/Tongatapu\"\n    \"Pacific/Truk\"\n    \"Pacific/Wake\"\n    \"Pacific/Wallis\"\n    \"US/Alaska\"\n    \"US/Arizona\"\n    \"US/Central\"\n    \"US/Eastern\"\n    \"US/Hawaii\"\n    \"US/Mountain\"\n    \"US/Pacific\"\n    \"UTC\"\n]\n","###\nMain application Router\n\nHandles routes exposed by the application. It generate views/viewModels couples\nwhen needed and show them in the app_layout regions.\n###\n\nRegisterView      = require 'views/register'\nRegistrationModel = require 'states/registration'\n\nAuthView  = require 'views/auth'\nAuthModel = require 'states/auth'\n\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        'login(?next=*path)':        'login'\n        'login(/*path)':             'login'\n        'password/reset/:key':       'resetPassword'\n        'register(?step=:step)':     'register'\n\n\n    ###\n    Initialize stores the application reference for a later use inside the\n    router.\n    ###\n    initialize: (options) ->\n        @app = options.app\n\n\n    ###\n    Auth view generation\n\n    Login and ResetPassword views are basically the same ones and uses the same\n    logics. So they use the same view/state-model class and we switch the\n    rendering mode at launch by passing a `type` option.\n\n    View options also contains a `backend` url which is the endpoint called by\n    the submitted form.\n    ###\n    auth: (path, options) ->\n        # The `next` state-model option contains the path where the app must\n        # redirect after a successful login.\n        auth = new AuthModel next: path\n        @app.layout.showChildView 'content', new AuthView _.extend options,\n            model: auth\n\n\n    ###\n    login route\n\n    `path` will be extracted from url:\n    - the part after the `/login` (e.g. /login/foo/bar => /foo/bar)\n    - a `next` query string parameter (the new and more cleaner way, see\n    server/middlewares/authentication.coffee#L36)\n    ###\n    login: (path = '/') ->\n        if window.location.hash\n            path = window.location.hash\n        @auth path,\n            backend: '/login'\n            type:    'login'\n\n\n    resetPassword: (key) ->\n        @auth '/login',\n            backend: window.location.pathname\n            type:    'reset'\n\n\n    ###\n    Register route\n\n    Register views uses the same layout view and the step content is a subview\n    component determined by the step param.\n    ###\n    register: (step = 'preset') ->\n        currentView = @app.layout.getChildView 'content'\n\n        # Ensure the current view in the app layout is a RegisterView. If not,\n        # then creates a new RegistrationModel state-machine and a RegisterView\n        # and show it in the main AppLayout Region\n        unless currentView? and currentView instanceof RegisterView\n            registration = new RegistrationModel()\n            # We assign the step property to the router's navigate method to\n            # update the URL each time the step changes.\n            registration.get('step')\n                        .map (step) -> \"register?step=#{step}\" if step\n                        .assign @, 'navigate'\n\n            currentView  = new RegisterView model: registration\n            @app.layout.showChildView 'content', currentView\n\n        # When the RegisterView is render in the AppLayout, set its current\n        # step (default to `preset`).\n        currentView.model.setStep step\n","###\nAuth state-machine\n\nExposed streams and properties used by the Login and ResetPassword views.\n###\n\nStateModel = require 'lib/state_model'\n\n\nmodule.exports = class Auth extends StateModel\n\n    initialize: ->\n        # Declares all buses used to organize streams\n        @isBusy    = new Bacon.Bus()    # enable/disable button busy state\n        @alert     = new Bacon.Bus()    # alerts updates after submissions\n        @success   = new Bacon.Bus()    # receive success returns after submit\n        @signin    = new Bacon.Bus()    # form submission bus\n        @sendReset = new Bacon.Bus()    # reset link submission\n\n        # Adding an `alert` property that can be used in view rendering\n        @add 'alert', @alert.toProperty()\n\n        # Register the submission methods to their buses\n        @signin.onValue @signinSubmit\n        @sendReset.onValue @sendResetSubmit\n\n        ###\n        Redirect handler\n\n        When a success respond to a sign in form submission, then get the `next`\n        property value and redirect the user to this URL.\n        ###\n        @success.map @get 'next'\n            .onValue (next) ->\n                setTimeout ->\n                    window.location.pathname = next\n                , 500\n\n\n    ###\n    Sign in submission\n\n    Submit a form in an ajax request and handle its response in a Bacon stream.\n\n    - `form`: an object containing the form values\n    ###\n    signinSubmit: (form) =>\n        data = JSON.stringify password: form.password\n        req = Bacon.fromPromise $.post form.action, data\n\n        # Plug success response to `@success` stream and set `@alert` to false\n        # to reset it.\n        @success.plug req.map '.success'\n        @alert.plug req.map false\n\n        # Plug error response to `@alert` stream. We assume it's always because\n        # password isn't correct.\n        @alert.plug req.errors().mapError\n            status:  'error'\n            title:   'wrong password title'\n            message: 'wrong password message'\n\n        # Plug ajax request end to reset the button `busy` state\n        @isBusy.plug req.mapEnd false\n\n\n    ###\n    Reset link submission\n\n    Submit the request to get a password recover link.\n    ###\n    sendResetSubmit: =>\n        reset = Bacon.fromPromise $.post '/login/forgot'\n\n        # Plug the request response to the `@alert` bus to display a message to\n        # user that confirm the email sending.\n        @alert.plug reset.map\n            status:  'success'\n            title:   'recover sent title'\n            message: 'recover sent message'\n\n        @alert.plug reset.errors().mapError\n            status:  'error'\n            title:   'recover error title'\n            message: 'recover error message'\n","###\nRegistration state-machine\n\nExposed streams and properties to the Register* views.\n###\n\nStateModel = require 'lib/state_model'\n\n\nmodule.exports = class Registration extends StateModel\n\n    ###\n    Registration process consists of a progress across many screens, in a\n    non-linear mode. So, to keep it consistent, we declare the flow between\n    screens in this step var. Each step can declares:\n    - next: the step that comes after\n    - nextLabel: the label for the next button flow control\n    - nocontrols: hide the flow controls\n    ###\n    steps:\n        preset:\n            next:      'import'\n            nextLabel: 'sign up'\n        import:\n            next:      'email'\n            nextLabel: 'skip'\n        import_google:\n            nocontrols: true\n        email:\n            next:      'setup'\n            nextLabel: 'skip'\n        setup:\n            next:       'welcome'\n            nocontrols: true\n        welcome:\n            nextLabel: 'welcome'\n\n\n    initialize: ->\n        # Initialize the bus to stream errors\n        @errors = new Bacon.Bus()\n\n        # Initialize each parts of registration process\n        @initStep()\n        @initControls()\n        @initSignup()\n        @initSetEmail()\n\n\n    ###\n    Set step property\n\n    A simple wrapper to push the new step value in the `step` property.\n    ###\n    setStep: (newStep) ->\n        @setStepBus.push newStep\n\n\n    ###\n    Initialize step flow\n\n    Declares the streams and properties that'll be used to control step flow.\n    ###\n    initStep: ->\n        @setStepBus = new Bacon.Bus()    # receive step updates\n        @stepValve  = new Bacon.Bus()    # a valve property that can temporary\n                                         # interrupt the step flow\n\n        # `step` property (added to the state-machine below) is streamed by the\n        # `setStepBus` stream, which is controlled by the `stepValve`, and\n        # filtered to ensure that the step exists (i.e step exists in the\n        # `steps` var)\n        step = @setStepBus\n            .holdWhen @stepValve.startWith(false).toProperty()\n            .filter (step) => step in Object.keys @steps\n            .toProperty null\n\n        @add 'step', step\n        # `nextStep` property contains the next step to come\n        @add 'nextStep', step.map (step) => @steps[step]?.next or null\n\n\n    ###\n    Initialize the controls flow\n    ###\n    initControls: ->\n        # Creates streams to handle controls state changes\n        @nextEnabled = new Bacon.Bus()    # enable/disable the next button\n        @nextBusy    = new Bacon.Bus()    # set next button busy state\n        @nextLabel   = new Bacon.Bus()    # set next button label\n\n        # To simply get next button state, we combine all streams / properties\n        # that represents it in a complex coombined property. It can be easily\n        # mapped to get state (e.g. `nextControl.map '.visible'` returns a\n        # boolean that describes if the control should be visible or not, using\n        # the `nocontrol` key declared in the `steps` var).\n        nextControl = Bacon.combineTemplate\n            enabled: @nextEnabled.startWith(true).toProperty()\n            busy:    @nextBusy.startWith(false).toProperty()\n            label:   @nextLabel.startWith('next').toProperty()\n            visible: @get('step').map (step) => not @steps[step]?.nocontrols\n\n        # We update the next button label using the `nextLabel` key in the\n        # `steps` var. We use a Bus to stream the value (rather than map is like\n        # the visible property above) to let views decides to update the label\n        # themselves.\n        @nextLabel.plug @get('step').map (step) => @steps[step]?.nextLabel\n\n        # In case the next called step isn't declared in the `steps` var, we\n        # assume it's a URL and navigate to it.\n        @setStepBus\n            .filter (value) => !(value in Object.keys @steps)\n            .onValue (path) ->\n                window.location.pathname = path\n\n\n        # Add the `nextControl` property ti the state-machine\n        @add 'nextControl', nextControl\n\n\n    ###\n    Initialize sign up form\n    ###\n    initSignup: ->\n        # Declares a stream to receive the form submission\n        @signup = new Bacon.Bus()\n\n        # If the current step is `preset`, set the valve to block the step flow:\n        # it will resume when the sign up form request returns a success.\n        @stepValve.plug @get('step').map (step) -> step is 'preset'\n        # Disable the next button when enter in the `preset` step, it will be\n        # re-enabled when all required inputs are filled\n        @nextEnabled.plug @get('step').map (step) -> step isnt 'preset'\n        # Subscribe the `onSignupSubmit` handler to the sign up stream\n        @signup.onValue @signupSubmit\n\n\n    ###\n    Treats signup submission\n\n    - data: an object containing the form input entries as key/values pairs\n    ###\n    signupSubmit: (data) =>\n        # Submit the form content to the register endpoint and creates a stream\n        # with the ajax promise\n        req = Bacon.fromPromise $.post '/register', JSON.stringify data\n        # If the request is successful, we stores the username in the global\n        # scope to prepare the login view.\n        req.subscribe -> window.username = data['public_name']\n        # Unblock the step flow valve when the response is successful\n        @stepValve.plug req.map false\n        # Map request errors in the `errors` stream\n        @errors.plug req.errors().mapError '.responseJSON.errors'\n        # Map the request end to the next button busy state\n        @nextBusy.plug req.mapEnd false\n\n\n    ###\n    Initialize email account creation form\n\n    Simply creates a bus to get the form submission and subscribe the submission\n    handler to this stream.\n    ###\n    initSetEmail: ->\n        @setEmail = new Bacon.Bus()\n        @setEmail.onValue @setEmailSubmit\n\n\n    ###\n    Treats email account creation form\n\n    - data: an object containing the form input entries as key/values pairs\n    ###\n    setEmailSubmit: (data) =>\n        # Map form data to the _email_ app endpoint expected form\n        login = data['imap-login'] or data.email\n        accountData =\n            id:                null\n            label:             data.email\n            name:              data.email.split('@')[0]\n            login:             login\n            password:          data.password\n            accountType:       \"IMAP\"\n            draftMailbox:      \"\"\n            favoriteMailboxes: null\n            imapPort:          data['imap-port']\n            imapSSL:           data['imap-ssl']\n            imapServer:        data['imap-server']\n            imapTLS:           false\n            smtpLogin:         data['smtp-login'] or login\n            smtpMethod:        \"PLAIN\"\n            smtpPassword:      data['smtp-password'] or data.password\n            smtpPort:          data['smtp-port']\n            smtpSSL:           data['smtp-ssl']\n            smtpServer:        data['smtp-server'] or data['imap-server']\n            smtpTLS:           false\n            mailboxes:         \"\"\n            sentMailbox:       \"\"\n            trashMailbox:      \"\"\n\n        # We directly call the _emails_ app account creation endpoint and submit\n        # the accountData. We do not attach any handler to the response as we\n        # don't want to treat responses nor errors in onboarding: user will fix\n        # a wrong setup in the _emails_ app directly.\n        $.ajax\n            type:        'POST'\n            url:         '/apps/emails/account'\n            data:        JSON.stringify accountData\n            contentType: \"application/json; charset=utf-8\",\n            dataType:    'json'\n","###\nApp Layout\n\nAttach itself to the `[role=application] DOM node and declares the application\nmain region for its subviews.\n###\n\nmodule.exports = class AppLayout extends Mn.LayoutView\n\n    template: require 'views/templates/layout_app'\n\n    el: '[role=application]'\n\n    regions:\n        content: '.container'\n","module.exports = class AuthFeedbackView extends Mn.ItemView\n\n    template: require 'views/templates/view_auth_feedback'\n\n    ui:\n        forgot: 'a.forgot'\n\n\n    serializeData: ->\n        _.extend @model.toJSON(),\n            forgot: @options.forgot\n            prefix: @options.prefix\n\n\n    initialize: ->\n        @model.get('alert').subscribe @render\n\n        @model.alert\n            .map (res) ->\n                if res.status then res.status else null\n            .assign @$el, 'attr', 'class'\n\n        if @options.forgot\n            sendLink = @$el.asEventStream 'click', @ui.forgot\n                .doAction '.preventDefault'\n            @model.sendReset.plug sendLink\n","###\nMain Login/ResetPassword view\n\nCreates a view form that display the form to submit password (in sign in and\nreset password mode). It inherits from `Mn.LayoutView` because it declares a\nregion to host form feedbacks (state-machine `alert` property).\n###\n\nFeedbackView = require 'views/auth/feedback'\n\n\nmodule.exports = class AuthView extends Mn.LayoutView\n\n    tagName: 'form'\n\n    className: ->\n        \"#{@options.type} auth\"\n\n    attributes: ->\n        data =\n            method: 'POST'\n            action: @options.backend\n\n    template: require 'views/templates/view_auth'\n\n    regions:\n        'feedback': '.feedback'\n\n    ui:\n        passwd: 'input[type=password]'\n        submit: '.controls button[type=submit]'\n\n\n    ###\n    Data exposed to template\n\n    - username: username to display, gets from global vars\n                (see server/views/index.jade#L14)\n    - prefix: type is passed as prefix for locales translations\n    ###\n    serializeData: ->\n        username: window.username\n        prefix:   @options.type\n\n\n    ###\n    Initialize internals\n\n    - streams outputted from DOM elements\n    - properties extracted from streams\n    ###\n    initialize: ->\n        # Create property for password input, delegated from the input element\n        # events, mapped to its value\n        password = @$el.asEventStream 'focus keyup blur', @ui.passwd\n                        .map '.target.value'\n                        .toProperty('')\n\n        # Boolean property that confirms if the input is filled or not\n        @passwordEntered = password.map (value) -> !!value\n\n        # Submit stream, delegated from the submission event, and filtered by\n        # the password input (submit can only be triggered if the password field\n        # is not empty)\n        submit = @$el.asEventStream 'click', @ui.submit\n            .doAction '.preventDefault'\n            .filter @passwordEntered\n\n        # A complex property that contains the value of the form fields (here,\n        # password only), and the action URL.\n        # The property is sampled (changes occurs) by the form submit stream.\n        formTpl =\n            password: password\n            action:   @options.backend\n        form = Bacon.combineTemplate formTpl\n            .sampledBy submit\n\n        # Plug the form submission to the busy bus (set the button busy state\n        # to true) and to the sign in bus to trigger the form submission in the\n        # state-machine.\n        @model.isBusy.plug form.map true\n        @model.signin.plug form\n\n\n    ###\n    After rendering\n\n    When template is rendered into the DOM, attach reactive actions to its\n    elements.\n    ###\n    onRender: ->\n        # Render the feedback child view\n        @showChildView 'feedback', new FeedbackView\n            forgot: @options.type is 'login'\n            prefix: @options.type\n            model:  @model\n\n        # Select all password field content at focus\n        @ui.passwd.asEventStream 'focus'\n            .assign @ui.passwd[0], 'select'\n\n        # This is a ugly workaround to the autofocus issue: the field is marked\n        # as `[autofocus]` so it gets the focus when the page loads. But if the\n        # field is already filled (i.e. by the browser password manager), the\n        # focus is properly given *but* the focus event isn't triggered, so the\n        # select handler declared above isn't executed and the field content is\n        # not selected.\n        # So we force the focus after a short time (to let the DOM breath), to\n        # trigger the `onFocus` event subscribers.\n        setTimeout =>\n            @ui.passwd.focus()\n        , 100\n\n        # Focus again to avoid blinks and ensure that everything is\n        # selected.\n        # Without it Firefox doesn't select the field content in every\n        # cases.\n        setTimeout =>\n            @ui.passwd.focus()\n        , 300\n\n        # Assign the button busy state to the state-machine busy state\n        @model.isBusy\n            .assign @ui.submit, 'attr', 'aria-busy'\n\n        # When the form is successfully submitted, change the submit button\n        # content to a check mark\n        @model.success\n            .map =>\n                $ '<i/>',\n                    class: 'fa fa-check'\n                    text:  t \"#{@options.type} auth success\"\n            .assign @ui.submit, 'html'\n\n        # and change its class to reflect success\n        @model.success\n            .assign @ui.submit, 'toggleClass', 'btn-success'\n\n        # Re select all password field on failure.\n        @model.alert\n            .assign @ui.passwd[0], 'select'\n\n","###\nForm View\n\nThis is a top-level class that contains helpers for FormViews. It is not\nintended to be used directly.\n###\n\nmodule.exports = class FormView extends Mn.ItemView\n\n    tagName: 'form'\n\n    ui:\n        labels:   'label.with-input'\n        inputs:   'label input'\n\n\n    ###\n    Prepare internal streams\n    ###\n    constructor: ->\n        super\n\n        # inputsStream is a stream containing all inputs events, delegated\n        @inputsStream = @$el.asEventStream 'keyup blur change', @ui.inputs\n        # submitStream receive the submit event, prevent the natural submission,\n        # and is filtered onto the next button enable state (form can't be\n        # submitted if the control is disabled)\n        @submitStream = @$el.asEventStream 'submit'\n            .doAction '.preventDefault'\n            .filter => @model.get('nextControl').map '.enabled'\n\n\n    ###\n    Initialize the form streams and properties\n\n    This helper needs to be explicitely called in the child-class `onRender`\n    method.\n    ###\n    initForm: ->\n        # Prepare a template that contains all fields properties\n        inputs   = {}\n        # Prepare a property that describes if all required fields are filled\n        required = Bacon.constant true\n\n        # A simple helper to get the value in regard of input type\n        getValue = (el) ->\n            if el.type is 'checkbox' then el.checked else el.value\n\n        # For each input in the form\n        @ui.inputs.map (index, el) =>\n            # React to the inputStream (which is a delegate stream from the top\n            # `form` element), filter to ensure the target is the current input\n            # and get its value.\n            property = @inputsStream.map '.target'\n                .filter (target) -> target is el\n                .map getValue\n                .toProperty getValue el\n            # STores the property in the template\n            inputs[el.name] = property\n            # If the field is required, then combine its value to all others\n            # required fields\n            required = required.and(property.map (val) -> !!val) if el.required\n\n        # Combine a `form` property that is a complex property combined from the\n        # template, which is useful to get all form fields values in the stream.\n        # We sampled the property by the submit stream (i.e. the form property\n        # is converted as a stream which trigger a message each time the submit\n        # event occurs or the next control button is clicked).\n        # The stream is filtered by required to ensure the form is submitted\n        # only if required inputs are filled.\n        @model.setStepBus.plug @submitStream.map @model.get 'nextStep'\n        @form = Bacon.combineTemplate inputs\n            .sampledBy @model.nextClickStream.merge @submitStream\n            .filter required\n\n        # Exposes the required property into the prototype\n        @required = required\n\n\n    ###\n    Initialize the errors streams and actions\n\n    This helper needs to be explicitely called in the child-class `onRender`\n    method.\n    ###\n    initErrors: ->\n        # Simple helper to get a boolean from value\n        isTruthy  = (value) -> !!value\n        # Simple helper that creates an error message DOM node\n        createMsg = (msg) -> $('<p/>', {class: 'error', text: msg})\n\n        # Remove all errors messages into the DOM when receive new errors (e.g.\n        # user just submitted a new form also containing errors). We filter on\n        # errors te ensure the signal contains new errors.\n        @model.errors\n            .filter (errors) -> !!errors\n            .subscribe =>\n                @ui.labels.find('.error').remove()\n\n        # For each couple of key: message in the error stream\n        for name, property of @errors\n            # get the correct DOM element that host the faulty input\n            $el = @ui.labels.filter(\"[for=preset-#{name}]\")\n            # Map the message value to its invalid state\n            property.map isTruthy\n                .assign $el, 'attr', 'aria-invalid'\n            # And creates and append to it the error message\n            property.filter(isTruthy).map createMsg\n                .assign $el, 'append'\n","###\nRegister controls\n\nA view dedicated to register flow control between its screens.\n###\n\nmodule.exports = class RegisterControlsView extends Mn.ItemView\n\n    template: require 'views/templates/view_register_controls'\n\n    ui:\n        'next': 'a.btn'\n\n\n    ###\n    Initialize the view streams\n    ###\n    initialize: ->\n        # The clickStream is the stream trigerred by click on next button\n        # control. It:\n        # - stops the natural event\n        # - gets its step/route/url from href\n        # - ensure the button is enabled (if not, the event isn't propagated\n        # into the stream)\n        clickStream = @$el.asEventStream 'click', @ui.next\n            .doAction '.preventDefault'\n            .map (e) -> e.target.href.split('=')[1] or '/'\n            .filter => @model.get('nextControl').map '.enabled'\n\n        # We store the stream into the state-machine to get it accessible to\n        # other views and plug it in the stepStepBus stream (as long as it\n        # returns a step to route to)\n        @model.nextClickStream = clickStream\n        @model.setStepBus.plug clickStream\n\n\n    ###\n    Assign reactive logics after rendering template\n    ###\n    onRender: ->\n        # Assign the disable state to the next button\n        @model.get 'nextControl'\n            .map('.enabled').not()\n            .assign @ui.next, 'attr', 'aria-disabled'\n\n        # Assign the busy state to the next button\n        @model.get 'nextControl'\n            .map '.busy'\n            .assign @ui.next, 'attr', 'aria-busy'\n\n        # Assign the nextStep value to the next button URL\n        @model.get 'nextStep'\n            .map (step) -> if step then \"register?step=#{step}\" else '/'\n            .assign @ui.next, 'attr', 'href'\n\n        # Assign the label to the next button\n        @model.get 'nextControl'\n            .map '.label'\n            .map (text) -> return -> t text\n            .assign @ui.next, 'text'\n\n        # When the next button is a \"skip\" button (i.e. go the the next step w/o\n        # doing anything in the current screen) then pass its class to\n        # `btn-secondary`\n        isSkip = @model.get 'nextControl'\n            .map '.label'\n            .map (text) -> text is 'skip'\n        isSkip.assign @ui.next, 'toggleClass', 'btn-secondary'\n        isSkip.not().assign @ui.next, 'toggleClass', 'btn-primary'\n","###\nEmail account setting view\n\nA view that contains a setup form for a primary email adress.\n###\n\nFormView = require 'views/lib/form_view'\n\n\nmodule.exports = class RegisterEmailView extends FormView\n\n    className: 'email'\n\n    template: require 'views/templates/view_register_email'\n\n\n    ###\n    Initialize internal streams\n    ###\n    initialize: ->\n        # Extends the FormView `@ui` object with specific selectors.\n        @ui.legend = '.advanced legend'\n        @ui.adv    = '.advanced .content'\n        @ui.ssl    = 'input[type=checkbox][aria-controls]'\n\n        # Creates a stream from the `fieldset > legend` element that returns if\n        # the fieldset content is visible or not\n        @showAdv = @$el.asEventStream 'click', @ui.legend\n            .scan false, (visible) -> not visible\n        # Creates a stream that returns the SSL checkbox value when this one\n        # changed\n        @sslCheck = @$el.asEventStream 'change', @ui.ssl\n            .map '.target'\n\n\n    ###\n    Assign reactive actions\n    ###\n    onRender: ->\n        # Show fieldset content and hide legend element when click on this last\n        # one\n        @showAdv.not().assign @ui.adv, 'attr', 'aria-hidden'\n        @showAdv.assign @ui.legend, 'attr', 'aria-hidden'\n\n        # Pre-fill the email input with the value of the email property from the\n        # state-machine\n        @model.get('email')?.assign @ui.inputs.filter('#email-email'), 'val'\n\n        @initSSLCheckboxes()\n        @bindSMTPServer()\n\n        @initForm()\n\n        # Create a submission stream from the form one that is filitered to the\n        # step (can be triggered when we are in the email or setup step), and\n        # plug it to the setEmail stream\n        @model.setEmail.plug @form.filter =>\n            @model.get('step').map (cur) -> cur in ['email', 'setup']\n\n        # Create a stream based on the required inputs that transform the next\n        # control button from 'skip' to 'add email acount' when they're all\n        # filled\n        @model.nextLabel.plug @required.map (bool) ->\n            if bool then 'add email' else 'skip'\n\n\n    ###\n    Initialize the SSL checkboxes\n\n    When clicking on a checkbox that controls an ssl-port input, then change\n    this input value to pre-fill a right value, depending of the service and the\n    state of the SSL checkbox.\n    ###\n    initSSLCheckboxes: ->\n        @ui.ssl.each (indexs, el) =>\n            service = el.id.match(/email-([a-z]{4})-ssl/i)[1]\n            control = @$(\"##{el.getAttribute 'aria-controls'}\")\n\n            @sslCheck\n                .filter (target) -> target is el\n                .map (target) ->\n                    ssl = target.checked\n                    switch service\n                        when 'imap' then (if ssl then 993 else 143)\n                        when 'smtp' then (if ssl then 465 else 25)\n                .assign control, 'val'\n\n\n    ###\n    Initialize smtp server input logic\n\n    When fill the imap-server input, if the smtp-server input is empty or was\n    never edited, then is takes the same value as the imap-server input. If it\n    contains a custom value, it doesn't change.\n    ###\n    bindSMTPServer: ->\n        imapServer  = @ui.inputs.filter('#email-imap-server')\n        smtpServer  = @ui.inputs.filter('#email-smtp-server')\n\n        smtpServer.asEventStream 'keyup'\n            .map (e) -> !!e.target.value.length\n            .assign smtpServer, 'data', 'edited'\n\n        imapServer.asEventStream 'keyup'\n            .map '.target.value'\n            .filter -> smtpServer.data('edited')\n            .assign smtpServer, 'val'\n","###\nRegister feedback\n\nA view that display the current step in the register flow\n###\n\nmodule.exports = class RegisterFeedbackView extends Mn.ItemView\n\n    template: require 'views/templates/view_register_feedback'\n\n\n    onRender: ->\n        # Check for each bullet point if it has the class of the current step.\n        # If true, then toggle its selected state.\n        @model.get('step').map (value) -> return -> @classList.contains value\n                          .assign @$('li'), 'attr', 'aria-selected'\n\n        # On last scree (welcome) screen, hide the feedback to only display\n        # controls.\n        @model.get('step').map (step) -> /^welcome/.test step\n                          .assign @$el, 'attr', 'aria-hidden'\n","module.exports = class RegisterImportView extends Mn.ItemView\n\n    className: 'import'\n\n    template: require 'views/templates/view_register_import'\n\n    ui:\n        google: '#import-google'\n\n\n    initialize: ->\n        # We create a new stream on the _Import Google_ button that streams the\n        # next step as `import_google` in the state machine\n        #\n        # NOTE: when we'll add more import choices, this code can already\n        # streams right step depending on the element `[href]` attribute.\n        stream = @$el.asEventStream 'click', @ui.google\n            .doAction '.preventDefault'\n            .map (e) -> e.target.href.split('=')[1]\n        @model.setStepBus.plug stream\n","###\nImport Google step\n\nThis view do **not** rely on the machine state (except for the next stream push)\nand uses basical Marionette logics to handle its internal events\n###\n\n\nmodule.exports = class RegisterImportGoogleView extends Mn.ItemView\n\n    className: 'import-google'\n\n    template: require 'views/templates/view_register_import_google'\n\n    events:\n        'click #lg-ok':             'selectedScopes'\n        'click #step-pastecode-ok': 'pastedCode'\n        'click #cancel':            'cancel'\n\n\n    pastedCode: (event)->\n        event.preventDefault()\n        @popup?.close()\n        @changeStep 'pickscope'\n\n        @auth_code = @$(\"input:text[name=auth_code]\").val()\n        @$(\"input:text[name=auth_code]\").val(\"\")\n\n\n    selectedScopes: (event)->\n        event.preventDefault()\n\n        scope =\n            photos: false\n            calendars: @$(\"input:checkbox[name=calendars]\").prop(\"checked\")\n            contacts: @$(\"input:checkbox[name=contacts]\").prop(\"checked\")\n            sync_gmail: false\n            # Currently the Gmail sync is broken. So we remove it from the\n            # scope until it's fixed.\n            #sync_gmail: @$(\"input:checkbox[name=sync_gmail]\").prop(\"checked\")\n\n        data = auth_code: @auth_code, scope: scope\n        $.post \"/apps/import-from-google/lg\", data\n\n        # Creates an array that represents the current imports and stores it\n        # in the machine state if not empty\n        imports = []\n        imports.push 'contacts' if scope.contacts\n        imports.push 'calendars' if scope.calendars\n        @model.add 'imports', Bacon.constant(imports) if imports.length\n\n        # Go to the next step\n        @model.setStep 'setup'\n\n\n    changeStep: (step) ->\n        @$('.step').hide()\n        @$(\"#step-#{step}\").show()\n        @$('#auth_code').focus() if step is 'pastecode'\n\n\n    cancel: ->\n        @model.setStep 'import'\n\n\n    onRender: ->\n        @changeStep 'pastecode'\n        opts = [\n            'toolbars=0'\n            'width=700'\n            'height=600'\n            'left=200'\n            'top=200'\n            'scrollbars=1'\n            'resizable=1'\n        ].join(',')\n\n        scopes = [\n            'https://www.googleapis.com/auth/calendar.readonly'\n            'https://picasaweb.google.com/data/'\n            'https://www.googleapis.com/auth/contacts.readonly'\n            'email'\n            'https://mail.google.com/'\n            'profile'\n        ].join(' ')\n\n\n        clientID = '260645850650-2oeufakc8ddbrn8p4o58emsl7u0r0c8s'\n        clientID += '.apps.googleusercontent.com'\n\n        oauthUrl = \"https://accounts.google.com/o/oauth2/auth\"\n        oauthUrl += '?scope=' + encodeURIComponent(scopes)\n        oauthUrl += '&response_type=code'\n        oauthUrl += '&client_id=' + clientID\n        oauthUrl += '&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob'\n        @popup = window.open oauthUrl, 'Google OAuth',opts\n        @changeStep 'pastecode'\n","###\nRegister root view\n\nA Mn.LayoutView to handle the registration process and manipulates its views\nflow easily. It declares 3 regions:\n- a main region in which the current step view takes place\n- a control region to display flow controls elements\n- a feedback region to display the progression\n###\n\nControlsView = require 'views/register/controls'\nFeedbackView = require 'views/register/feedback'\n\n\nmodule.exports = class RegisterView extends Mn.LayoutView\n\n    className: 'register'\n\n    template: require 'views/templates/view_base'\n\n    regions:\n        'content':  '[role=region]'\n        'controls': '.controls'\n        'feedback': '.feedback'\n\n    ui:\n        footer: 'footer'\n\n\n    initialize: ->\n        # assign the `swapStep` handler to the `step` property.\n        @model.get('step').onValue @swapStep\n\n\n    ###\n    After render template into the DOM\n    ###\n    onRender: ->\n        # attach controls and feedback subviews\n        @showChildView 'controls', new ControlsView model: @model\n        @showChildView 'feedback', new FeedbackView model: @model\n        # assign the controls.visible property to the controls and feedback\n        # container aria-hidden state\n        @model.get 'nextControl'\n            .map('.visible').not()\n            .assign @ui.footer, 'attr', 'aria-hidden'\n\n\n    ###\n    Swap step child view\n    ###\n    swapStep: (step) =>\n        return unless step\n        StepView = require \"views/register/#{step}\"\n        @showChildView 'content', new StepView model: @model\n","###\nPresets view\n\nThis view display the form for the preset step\n###\n\nFormView = require 'views/lib/form_view'\n\n\nmodule.exports = class RegisterPresetView extends FormView\n\n    className: 'preset'\n\n    attributes:\n        method: 'post'\n        action: '/register'\n\n    template: require 'views/templates/view_register_preset'\n\n\n    serializeData: ->\n        timezones: require 'lib/timezones'\n\n\n    ###\n    Initialize internal streams and properties\n    ###\n    initialize: ->\n        # Creates a new property in the state machine that contains the entered\n        # email value to be used in later screens.\n        email = @$el.asEventStream 'blur', '#preset-email'\n            .map '.target.value'\n            .toProperty ''\n        @model.add 'email', email\n\n        # Create errors properties that will be used in the initError() method\n        @errors =\n            email:    @model.errors.map '.email'\n            password: @model.errors.map '.password'\n            timezone: @model.errors.map '.timezone'\n\n\n    ###\n    Assign reactive actions\n    ###\n    onRender: ->\n        @initForm()\n        @initErrors()\n\n        # Step valve\n        @onStep = @model.get('step').sampledBy(@form).map (step) ->\n            step is 'preset'\n        .toProperty()\n\n\n        # Set the next button enable state when all required fields are filled\n        @model.nextEnabled.plug @required.changes()\n\n        # Create a new stream from the submit one that is filtered onto the step\n        # (e.g. the form will not be submitted if we're already not in the step)\n        submit = @form.filter @onStep\n        # We plug it to the signup stream and to the next button busy state (e.g\n        # the busy state is enable when the form is submitted)\n        @model.signup.plug submit\n        @model.nextBusy.plug submit.map true\n","###\nSetup step view\n\nThis step display a counter as a progress bar that is:\n- fake if the user do not import content (takes 8 seconds)\n- indicates the import loading state, and have a minimal duration of 8 seconds\n###\n\n###\nHelpers\n\nThis section declares top-level helpers\n###\n\n# Creates a stream from socket.io callbacks\nsocket = null\n\nfromSocket = (event) ->\n    # If the socket.io socket isn't available, open it\n    unless socket\n        socket = window.io window.location.origin,\n            path:                 '/apps/import-from-google/socket.io'\n            reconnectionDelayMax: 60000\n            reconectionDelay:     2000\n            reconnectionAttempts: 3\n\n    # Exception: end events is named `contacts.end` for contacts, but\n    # `events.end` for calendars. So we compute the end event name\n    endEvent = if event is 'calendars' then 'events' else event\n\n    # Creates a stream from the socket.io socket\n    Bacon.fromBinder (sink) ->\n        # Start the stream with a 0 value\n        sink 0\n\n        # On each socket event, send to the sink a progress percentage\n        socket.on event, (data) ->\n            sink Math.floor data.number / data.total * 100\n\n        # On end event, send to the sink `100` and close the stream\n        socket.on \"#{endEvent}.end\", ->\n            sink 100\n            sink new Bacon.End()\n\n        # Returns an empty unsubscribe function\n        return ->\n\n# Returns the median value of arguments values\ngetProgress = ->\n    sum = [].reduce.call arguments, ((memo, val) -> memo + val), 0\n    sum / arguments.length\n\n\n###\nSetup View\n###\n\nmodule.exports = class RegisterSetupView extends Mn.ItemView\n\n    className: 'setup'\n\n    template: require 'views/templates/view_register_setup'\n\n    ui:\n        bar: 'progress'\n\n\n    ###\n    Initialize counter\n\n    it takes care of the imported elements state (do we import something or not)\n    ###\n    initialize: ->\n        @model.get 'imports'\n            .onValue @initCounter\n\n\n    ###\n    Assign the internal counter property to the progress bar\n    ###\n    onRender: ->\n        @progress.assign @ui.bar, 'val'\n\n\n    ###\n    Creates a counter property from\n    - a timer of 8 seconds\n    - each imports feedbacks\n    ###\n    initCounter: (imports) =>\n        # Creates a simple stream that goes from 0 to 100 in 8 seconds\n        timer = Bacon.interval(80, 1)\n            .take 100\n            .scan 0, (a, b) -> a + b\n\n        # If there's imports, the `progress` property is a median of the timer\n        # and imports progress ; otherwise it's just a reference to the timer\n        if imports\n            args = [getProgress, timer.toProperty()]\n            if 'contacts' in imports\n                args.push fromSocket('contacts').toProperty()\n            if 'calendars' in imports\n                args.push fromSocket('calendars').toProperty()\n\n            @progress = Bacon.combineWith.apply Bacon, args\n        else\n            @progress = timer.toProperty()\n\n        # Creates an `end` event that is streamed when the progress is `100`,\n        # mapped to the `nextStep` property. This stream is plugged to the\n        # setBusPlug stream (i.e. when progress is `100` we go to the next step)\n        end = @progress.filter (n) -> n >= 100\n            .map @model.steps['setup'].next\n        @model.setStepBus.plug end\n","###\nWelcome (last) step view\n\nThis view display the welcome wording and permit to pass to the login screen\n###\n\nmodule.exports = class RegisterWelcdomeView extends Mn.ItemView\n\n    className: 'welcome'\n\n    template: require 'views/templates/view_register_welcome'\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<section class=\\\"popup\\\"><header><a href=\\\"http://cozy.io\\\" target=\\\"_blank\\\" title=\\\"Cozy Website\\\"></a></header><div class=\\\"container\\\"></div></section>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),prefix = locals_.prefix,username = locals_.username;\nbuf.push(\"<div role=\\\"region\\\"><h1>\" + (jade.escape((jade_interp = t(prefix + ' welcome')) == null ? '' : jade_interp)) + \" \" + (jade.escape((jade_interp = username) == null ? '' : jade_interp)) + \"</h1><p id=\\\"login-password-tip\\\" class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t(prefix + ' enter your password')) ? \"\" : jade_interp)) + \"</p><label\" + (jade.attr(\"for\", \"\" + (prefix) + \"-password\", true, false)) + (jade.attr(\"aria-describedby\", \"\" + (prefix) + \"-password-tip\", true, false)) + \" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t(prefix + ' password')) ? \"\" : jade_interp)) + \"</span><input\" + (jade.attr(\"id\", \"\" + (prefix) + \"-password\", true, false)) + \" name=\\\"password\\\" type=\\\"password\\\" autofocus=\\\"autofocus\\\"/></label></div><footer><div class=\\\"controls\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t(prefix + ' submit')) ? \"\" : jade_interp)) + \"</button></div><div class=\\\"feedback\\\"></div></footer>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),alert = locals_.alert,prefix = locals_.prefix,forgot = locals_.forgot,label = locals_.label;\nif ( alert)\n{\nbuf.push(\"<div class=\\\"alert\\\"><p><strong>\" + (jade.escape(null == (jade_interp = t(prefix + ' ' + alert.title)) ? \"\" : jade_interp)) + \"</strong></p><p>\" + (jade.escape(null == (jade_interp = t(prefix + ' ' + alert.message)) ? \"\" : jade_interp)) + \"</p></div>\");\n}\nif ( forgot)\n{\nbuf.push(\"<div class=\\\"recover\\\">\");\nlabel = t(alert && alert.status == 'success'? 'login recover again' : 'login recover')\nbuf.push(\"<a href=\\\"/login/forgot\\\" class=\\\"forgot\\\">\" + (jade.escape(null == (jade_interp = label) ? \"\" : jade_interp)) + \"</a></div>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div role=\\\"region\\\"></div><footer><div class=\\\"controls\\\"></div><div class=\\\"feedback\\\"></div></footer>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<a href=\\\"/register?step=null\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t('next')) ? \"\" : jade_interp)) + \"</a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<h2>\" + (jade.escape(null == (jade_interp = t('email caption')) ? \"\" : jade_interp)) + \"</h2><label for=\\\"email-email\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email email')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-email\\\" type=\\\"email\\\" name=\\\"email\\\" required=\\\"required\\\"/></label><label for=\\\"email-password\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email password')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-password\\\" type=\\\"password\\\" name=\\\"password\\\" required=\\\"required\\\"/></label><div class=\\\"input-group input-group-02-third\\\"><label for=\\\"email-imap-server\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email imap server')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-imap-server\\\" type=\\\"text\\\" name=\\\"imap-server\\\" required=\\\"required\\\"/></label><label for=\\\"email-imap-port\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email imap port')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-imap-port\\\" type=\\\"number\\\" name=\\\"imap-port\\\" required=\\\"required\\\" value=\\\"993\\\"/></label></div><label for=\\\"email-imap-ssl\\\" class=\\\"checkbox\\\"><input id=\\\"email-imap-ssl\\\" type=\\\"checkbox\\\" name=\\\"imap-ssl\\\" checked=\\\"checked\\\" aria-controls=\\\"email-imap-port\\\"/><span>\" + (jade.escape(null == (jade_interp = t('email imap ssl')) ? \"\" : jade_interp)) + \"</span></label><fieldset class=\\\"advanced\\\"><legend>\" + (jade.escape(null == (jade_interp = t('email show advanced')) ? \"\" : jade_interp)) + \"</legend><div class=\\\"content\\\"><label for=\\\"email-imap-login\\\" aria-describedby=\\\"email-imap-login-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email imap login')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-imap-login\\\" type=\\\"text\\\" name=\\\"imap-login\\\"/></label><p id=\\\"email-login-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('email imap login tip')) ? \"\" : jade_interp)) + \"</p><hr/><div class=\\\"input-group input-group-02-third\\\"><label for=\\\"email-smtp-server\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email smtp server')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-smtp-server\\\" type=\\\"text\\\" name=\\\"smtp-server\\\"/></label><label for=\\\"email-smtp-port\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email smtp port')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-smtp-port\\\" type=\\\"number\\\" name=\\\"smtp-port\\\" value=\\\"465\\\"/></label></div><label for=\\\"email-smtp-ssl\\\" class=\\\"checkbox\\\"><input id=\\\"email-smtp-ssl\\\" type=\\\"checkbox\\\" name=\\\"smtp-ssl\\\" checked=\\\"checked\\\" aria-controls=\\\"email-smtp-port\\\"/><span>\" + (jade.escape(null == (jade_interp = t('email smtp ssl')) ? \"\" : jade_interp)) + \"</span></label><label for=\\\"email-smtp-login\\\" aria-describedby=\\\"email-smtp-login-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email smtp login')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-smtp-login\\\" type=\\\"email\\\" name=\\\"smtp-login\\\"/></label><p id=\\\"email-login-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('email smtp login tip')) ? \"\" : jade_interp)) + \"</p><label for=\\\"email-smtp-password\\\" aria-describedby=\\\"email-smtp-password-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('email smtp password')) ? \"\" : jade_interp)) + \"</span><input id=\\\"email-password\\\" type=\\\"password\\\" name=\\\"smtp-password\\\"/></label><p id=\\\"email-login-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('email smtp password tip')) ? \"\" : jade_interp)) + \"</p></div></fieldset><p id=\\\"email-email-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('email email tip')) ? \"\" : jade_interp)) + \"</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<ul><li class=\\\"preset\\\">\" + (jade.escape(null == (jade_interp = t('step preset')) ? \"\" : jade_interp)) + \"</li><li class=\\\"import\\\">\" + (jade.escape(null == (jade_interp = t('step import')) ? \"\" : jade_interp)) + \"</li><li class=\\\"email\\\">\" + (jade.escape(null == (jade_interp = t('step email settings')) ? \"\" : jade_interp)) + \"</li></ul>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"import-google\\\" class=\\\"content-block\\\"><div class=\\\"content-illustration google-services\\\"></div><h2>\" + (jade.escape(null == (jade_interp = t('import google account')) ? \"\" : jade_interp)) + \"</h2><p>\" + (jade.escape(null == (jade_interp = t('import google account tip')) ? \"\" : jade_interp)) + \"</p><a id=\\\"import-google\\\" type=\\\"button\\\" href=\\\"/register?step=import_google\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t('import google account sign in')) ? \"\" : jade_interp)) + \"</a></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"import-google\\\" class=\\\"content-block\\\"><h2>\" + (jade.escape(null == (jade_interp = t('leave google title')) ? \"\" : jade_interp)) + \"</h2><section id=\\\"step-pastecode\\\" class=\\\"step\\\"><p>\" + (jade.escape(null == (jade_interp = t(\"leave google code content\")) ? \"\" : jade_interp)) + \"</p><form><label for=\\\"google-code\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('leave google code')) ? \"\" : jade_interp)) + \"</span><input id=\\\"auth_code\\\" type=\\\"text\\\" name=\\\"auth_code\\\" required=\\\"required\\\" autofocus=\\\"autofocus\\\"/></label><div class=\\\"btn-group btn-group-02\\\"><button id=\\\"cancel\\\" class=\\\"btn btn-secondary\\\">\" + (jade.escape(null == (jade_interp = t('cancel')) ? \"\" : jade_interp)) + \"</button><button id=\\\"step-pastecode-ok\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t('confirm')) ? \"\" : jade_interp)) + \"</button></div></form></section><section id=\\\"step-pickscope\\\" class=\\\"step google-services-list\\\"><p>\" + (jade.escape(null == (jade_interp = t('leave google choice')) ? \"\" : jade_interp)) + \"</p><label for=\\\"google-contacts-import\\\"><input id=\\\"google-contacts-import\\\" type=\\\"checkbox\\\" name=\\\"contacts\\\" value=\\\"contacts\\\" checked=\\\"checked\\\"/><span class=\\\"google-services-icons contacts\\\"></span><span>\" + (jade.escape(null == (jade_interp = t(\"leave google choice contacts\")) ? \"\" : jade_interp)) + \"</span></label><label for=\\\"google-calendar-import\\\"><input id=\\\"google-calendar-import\\\" type=\\\"checkbox\\\" name=\\\"calendars\\\" value=\\\"calendars\\\" checked=\\\"checked\\\"/><span class=\\\"google-services-icons calendar\\\"></span><span>\" + (jade.escape(null == (jade_interp = t(\"leave google choice calendar\")) ? \"\" : jade_interp)) + \"</span></label><div class=\\\"btn-group btn-group-02\\\"><button id=\\\"cancel\\\" class=\\\"btn btn-secondary\\\">\" + (jade.escape(null == (jade_interp = t('cancel')) ? \"\" : jade_interp)) + \"</button><button id=\\\"lg-ok\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t('leave google confirm')) ? \"\" : jade_interp)) + \"</button></div></section></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),timezones = locals_.timezones;\nbuf.push(\"<label for=\\\"preset-email\\\" aria-describedby=\\\"preset-email-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('preset email')) ? \"\" : jade_interp)) + \"</span><input id=\\\"preset-email\\\" type=\\\"email\\\" name=\\\"email\\\" autofocus=\\\"autofocus\\\" required=\\\"required\\\"/><span class=\\\"indicator\\\"><span class=\\\"fa fa-exclamation-triangle\\\"></span></span></label><p id=\\\"preset-email-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('preset email tip')) ? \"\" : jade_interp)) + \"</p><label for=\\\"preset-name\\\" aria-describedby=\\\"preset-name-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('preset name')) ? \"\" : jade_interp)) + \"</span><input id=\\\"preset-name\\\" type=\\\"text\\\" name=\\\"public_name\\\" required=\\\"required\\\"/></label><p id=\\\"preset-name-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('preset name tip')) ? \"\" : jade_interp)) + \"</p><label for=\\\"preset-password\\\" aria-describedby=\\\"preset-password-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('preset password')) ? \"\" : jade_interp)) + \"</span><input id=\\\"preset-password\\\" type=\\\"password\\\" name=\\\"password\\\" required=\\\"required\\\"/><span class=\\\"indicator\\\"><span class=\\\"fa fa-exclamation-triangle\\\"></span></span></label><p id=\\\"preset-email-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('preset password tip')) ? \"\" : jade_interp)) + \"</p><label for=\\\"preset-timezone\\\" aria-describedby=\\\"preset-timezone-tip\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('preset timezone')) ? \"\" : jade_interp)) + \"</span><input id=\\\"preset-timezone\\\" type=\\\"text\\\" name=\\\"timezone\\\" list=\\\"preset-timezone-datalist\\\" required=\\\"required\\\"/><datalist id=\\\"preset-timezone-datalist\\\">\");\n// iterate timezones\n;(function(){\n  var $$obj = timezones;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var timezone = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attr(\"value\", timezone, true, false)) + \"></option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var timezone = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attr(\"value\", timezone, true, false)) + \"></option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</datalist><span class=\\\"indicator\\\"><span class=\\\"fa fa-exclamation-triangle\\\"></span></span></label><p id=\\\"preset-timezone-tip\\\" class=\\\"tips\\\">\" + (jade.escape(null == (jade_interp = t('preset timezone tip')) ? \"\" : jade_interp)) + \"</p><div class=\\\"checkboxes\\\"><label for=\\\"preset-help-us\\\" class=\\\"checkbox\\\"><input id=\\\"preset-help-us\\\" type=\\\"checkbox\\\" name=\\\"allow_stats\\\" checked=\\\"checked\\\"/><span>\" + (jade.escape(null == (jade_interp = t('preset opt-in help')) ? \"\" : jade_interp)) + \"</span></label></div><button type=\\\"submit\\\" aria-hidden=\\\"true\\\"></button>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<h1>\" + (jade.escape(null == (jade_interp = t('setup title')) ? \"\" : jade_interp)) + \"</h1><p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t('setup message')) ? \"\" : jade_interp)) + \"</p><progress value=\\\"0\\\" max=\\\"100\\\"></progress><h1>\" + (jade.escape(null == (jade_interp = t('setup on mobile title')) ? \"\" : jade_interp)) + \"</h1><p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t('setup on mobile message')) ? \"\" : jade_interp)) + \"</p><a href=\\\"https://play.google.com/store/apps/details?id=io.cozy.files_client\\\" target=\\\"_blank\\\" class=\\\"btn-store\\\"><img src=\\\"/img/google-play-btn.svg\\\" alt=\\\"Get it on Google Play\\\"/></a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<h1>\" + (jade.escape(null == (jade_interp = t('welcome title')) ? \"\" : jade_interp)) + \"</h1><p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t('welcome message')) ? \"\" : jade_interp)) + \"</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}