!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},i={},r={}.hasOwnProperty,a={},o=function(e,t){var i=0;t&&(t.indexOf(!1)&&(i="components/".length),t.indexOf("/",i)>0&&(t=t.substring(i,t.indexOf("/",i))));var r=a[e+"/index.js"]||a[t+"/deps/"+e+"/index.js"];return r?"components/"+r.substring(0,r.length-".js".length):e},s=function(){var e=/^\.\.?(\/|$)/;return function(t,i){var r,a,o=[];r=(e.test(i)?t+"/"+i:i).split("/");for(var s=0,n=r.length;n>s;s++)a=r[s],".."===a?o.pop():"."!==a&&""!==a&&o.push(a);return o.join("/")}}(),n=function(e){return e.split("/").slice(0,-1).join("/")},p=function(t){return function(i){var r=s(n(t),i);return e.require(r,t)}},u=function(e,t){var r={id:e,exports:{}};return i[e]=r,t(r.exports,p(e),r),r.exports},l=function(e,a){var n=s(e,".");if(null==a&&(a="/"),n=o(e,a),r.call(i,n))return i[n].exports;if(r.call(t,n))return u(n,t[n]);var p=s(n,"./index");if(r.call(i,p))return i[p].exports;if(r.call(t,p))return u(p,t[p]);throw new Error('Cannot find module "'+e+'" from "'+a+'"')};l.alias=function(e,t){a[t]=e},l.register=l.define=function(e,i){if("object"==typeof e)for(var a in e)r.call(e,a)&&(t[a]=e[a]);else t[e]=i},l.list=function(){var e=[];for(var i in t)r.call(t,i)&&e.push(i);return e},l.brunch=!0,e.require=l}}(),require.register("application",function(e,t,i){var r,a,o,s={}.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};o=t("routes"),r=t("views/app_layout"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.initialize=function(){return this.on("start",function(e){return function(t){return e.router=new o({app:e}),e.layout=new r,e.layout.render(),Backbone.history&&Backbone.history.start({pushState:!0}),"function"==typeof Object.freeze?Object.freeze(e):void 0}}(this))},t}(Backbone.Marionette.Application),i.exports=new a}),require.register("initialize",function(e,t,i){var r,a;r=t("./application"),a=function(){var e,i,r,a;i=$("html").attr("lang");try{r=t("locales/"+i)}catch(o){e=o,r=t("locales/en")}return a=new Polyglot({phrases:r,locale:i}),window.t=a.t.bind(a)},$(function(){return a(),r.start()})}),require.register("lib/state_model",function(e,t,i){var r;i.exports=r=function(){function e(e){var t,i;for(t in e)i=e[t],this.add(t,Bacon.constant(i));this.initialize()}return e.prototype.properties={},e.prototype._cache={},e.prototype.initialize=function(){},e.prototype.get=function(e){return this.properties[e]?this.properties[e]:Bacon.constant(void 0)},e.prototype.add=function(e,t){return this.properties[e]||(this.properties[e]=t,t.onValue(function(t){return function(i){return t._cache[e]=i}}(this))),t},e.prototype.toJSON=function(){return this._cache},e}()}),require.register("lib/timezones",function(e,t,i){i.exports=["Europe/Paris","Europe/Berlin","Europe/Madrid","Europe/Rome","America/Los_Angeles","America/New_York","Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Vostok","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Choibalsan","Asia/Chongqing","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Gaza","Asia/Harbin","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kashgar","Asia/Kathmandu","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Canada/Atlantic","Canada/Central","Canada/Eastern","Canada/Mountain","Canada/Newfoundland","Canada/Pacific","Europe/Amsterdam","Europe/Andorra","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Uzhgorod","Europe/Vaduz","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","GMT","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis","US/Alaska","US/Arizona","US/Central","US/Eastern","US/Hawaii","US/Mountain","US/Pacific","UTC"]}),require.register("locales/en",function(e,t,i){i.exports={next:"next",skip:"skip",cancel:"cancel","sign up":"create my Cozy","add email":"add email account",welcome:"let me in!",confirm:"confirm","step preset":"settings","step import":"import your datas","step email settings":"configure your email","preset email":"e-mail","preset email tip":"It will be used to contact you if you lose your password.","preset name":"name","preset name tip":"It's displayed when you share files with people or invite them to events.","preset password":"password","preset password tip":"A strong password of at least 8 characters is required (special characters recommended).","preset timezone":"timezone","preset timezone tip":"It's needed to properly display your calendar.","preset opt-in help":"Allow Cozy to use my usage stats to improve the product.","preset opt-out newsletter":"Subscribe to the Beta Cozy Newsletter (highly recommended).","import google account":"Synchronize your Gmail account & import calendar, contacts and photos from Google","import google account tip":"You'll need to sign in to your Google account to allow your Cozy to access to data hosted on Google","import google account sign in":"Sign in to Google","leave google title":"Feed your data into Cozy","leave google code content":"Paste the code from Google below:","leave google code":"google code","leave google choice":"Choose what you want to do with your data stored on Google servers:","leave google choice sync gmail":"GMail - Access your email from Cozy","leave google choice contacts":"One-time import of Google Contacts","leave google choice calendar":"One-time import of Google Calendar","leave google choice photos":"One-time import of Google Photos","leave google confirm":"Import data","email caption":"If you want to be able to read your email from your Cozy, we need to set it up.","email email":"e-mail","email email tip":"You can add more emails accounts later.","email password":"password","email imap server":"imap server","email imap port":"port","email imap ssl":"Using SSL?","email show advanced":"Show advanced parameters","email imap login":"imap login","email imap login tip":"Add your IMAP username, if it is different from your email address","email smtp server":"smtp server","email smtp port":"smtp port","email smtp ssl":"Using SSL?","email smtp login":"smtp login","email smtp login tip":"Leave empty to use the same username as for the imap server","email smtp password":"smtp password","email smtp password tip":"Leave empty to use the same password as for the imap server","login welcome":"Welcome","login enter your password":"Please enter your password to access to your Cozy","login password":"password","login submit":"sign in","login auth success":"Authentication successful, let's go in!","login recover":"Forget password? Email me instructions","login recover again":"Did not receive it? Send it again","login recover sent title":"Email sent","login recover sent message":"Please check your email, follow instructions to reset your password","login wrong password title":"Wrong password","login wrong password message":"The pasword you entered is incorrect, please try again","reset welcome":"Reset password","reset enter your password":"Please enter your new password to reset it","reset password":"password","reset submit":"reset your password","reset auth success":"password successfully resetted","reset wrong password title":"Your password can't be resetted","reset wrong password message":"The pasword you entered is incorrect, or your reset token is expired","setup title":"We're setting up your Cozy…","setup message":"You are now close to have your own personal cloud where your data are stored.","setup on mobile title":"Use Cozy on your Android device!","setup on mobile message":"Check out our mobile app on Google Play:","welcome title":"Congratulations on taking back control of your personal data.","welcome message":"With Cozy, you can store your data on your personal Cloud that you control. As opposed to most commercial Cloud services, there is no data-mining taking place on your Cozy Cloud, so no large corporation is trying to learn everything from you by searching through your data."}}),require.register("locales/fr",function(e,t,i){i.exports={next:"suivant",skip:"passer",cancel:"annuler","sign up":"créer mon Cozy","add email":"ajouter un compte email",welcome:"c'est parti !",confirm:"valider","step preset":"réglages","step import":"importer des données","step email settings":"configurer votre email","preset email":"email","preset email tip":"Cette adresse email sera utilisée pour vous envoyer un message lors d'une récupération de mot de passe.","preset name":"nom","preset name tip":"Le nom sous lequel vous apparaitrez dans les messages de partages et les invitations calendrier.","preset password":"mot de passe","preset password tip":"Un mot de passe de fort d'au-moins 8 caractères (les caractères spéciaux sont recommandés).","preset timezone":"fuseau horaire","preset timezone tip":"Vous permet d'afficher correctement les heures dans les agendas.","preset opt-in help":"Je souhaite aider Cozy à améliorer la plateforme en transmettant des données statistiques anonymes relatives à mon utilisation.","preset opt-out newsletter":"Je souhaite être informé par Cozy des évolutions du produit (recommandé).","import google account":"Synchroniser votre compte Gmail & importer mes calendriers, contacts et photos depuis Google","import google account tip":"Vous devez vous authentifier sur votre compte Google pour autoriser Cozy à accéder aux informations hébergées chez Google","import google account sign in":"S'authentifier chez Google","leave google title":"Importez vos données dans Cozy","leave google code content":"Collez le code transmis par Google ci-dessous :","leave google code":"jeton google","leave google choice":"Sélectionnez les données hébergées chez Google à importer :","leave google choice sync gmail":"GMail - Accédez à vos emails depuis Cozy","leave google choice contacts":"Contacts Google - Copier sur mon Cozy","leave google choice calendar":"Calendriers Google - Copier sur mon Cozy","leave google choice photos":"Photos Google - Copier sur mon Cozy","leave google confirm":"Importer les données","email caption":"Pour accéder à vos emails depuis Cozy, configurez votre compte.","email email":"email","email email tip":"Vous pourrez ajouter d'autres comptes depuis l'application.","email password":"mot de passe","email imap server":"serveur imap","email imap port":"port","email imap ssl":"Utiliser SSL ?","email show advanced":"Configurer des paramètres avancés","email imap login":"nom d'utilisateur imap","email imap login tip":"Nom d'utilisateur, si différent de l'adresse email du compte.","email smtp server":"serveur smtp","email smtp port":"port smtp","email smtp ssl":"Utiliser SSL ?","email smtp login":"nom d'utilisateur smtp","email smtp login tip":"Laisser vide pour utiliser le même nom d'utilisateur que pour le serveur imap","email smtp password":"mot de passe smtp","email smtp password tip":"Laisser vide pour utiliser le même mot de passe que pour le serveur imap","login welcome":"Bienvenue","login enter your password":"Entrez votre mot de passe pour accéder à votre Cozy","login password":"mot de passe","login submit":"s'authentifier","login auth success":"Authentification réussie, entrons !","login recover":"Mot de passe oublié ? Envoyez-moi un email de restauration.","login recover again":"Vous ne l'avez pas reçu ? Remvoyez-le moi.","login recover sent title":"Email envoyé","login recover sent message":"Un email contenant les instructions pour restaurer votre mot de passe vous a été envoyé.","login wrong password title":"Mot de passe erroné","login wrong password message":"Le mot de passe que vous avez saisi n'est pas correct, veuillez réessayer.","reset welcome":"Restauration du mot de passe","reset enter your password":"Entrez un nouveau mot de passe pour le restaurer","reset password":"mot de passe","reset submit":"restaurer votre mot de passe","reset auth success":"mot de passe restauré","reset wrong password title":"Votre mot de passe n'a pas pu être restauré","reset wrong password message":"Le mot de passe que vous avez entré n'est pas correct, ou votre jeton de restauration est expiré.","setup title":"Nous préparons votre Cozy…","setup message":"Vous y être presque ! Dans quelques instants vous pourrez accéder à votre Cozy et reprendre le contrôle de vos données.","setup on mobile title":"Utilisez Cozy sur votre périphérique Android !","setup on mobile message":"Téléchargez l'app mobile Cozy sur Google Play :","welcome title":"Félicitations ! Vous venez de reprendre le contrôle de vos données.","welcome message":"Avec Cozy, vous pouvez stocker vos données dans votre Cloud personnel, que vous contrôlez, ce qui protège l'intimité de votre vie numérique. En effet, la société Cozy Cloud n'exploite pas les données que vous placez dans votre Cloud !"}}),require.register("routes/index",function(e,t,i){var r,a,o,s,n,p={}.hasOwnProperty,u=function(e,t){function i(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};o=t("views/register"),s=t("states/registration"),a=t("views/auth"),r=t("states/auth"),i.exports=n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.routes={"login(?next=*path)":"login","login(/*path)":"login","password/reset/:key":"resetPassword","register(?step=:step)":"register"},t.prototype.initialize=function(e){return this.app=e.app},t.prototype.auth=function(e,t){var i;return i=new r({next:e}),this.app.layout.showChildView("content",new a(_.extend(t,{model:i})))},t.prototype.login=function(e){return null==e&&(e="/"),window.location.hash&&(e=window.location.hash),this.auth(e,{backend:"/login",type:"login"})},t.prototype.resetPassword=function(e){return this.auth("/login",{backend:window.location.pathname,type:"reset"})},t.prototype.register=function(e){var t,i;return null==e&&(e="preset"),t=this.app.layout.getChildView("content"),null!=t&&t instanceof o||(i=new s,i.get("step").map(function(e){return e?"register?step="+e:void 0}).assign(this,"navigate"),t=new o({model:i}),this.app.layout.showChildView("content",t)),t.model.setStep(e)},t}(Backbone.Router)}),require.register("states/auth",function(e,t,i){var r,a,o=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};a=t("lib/state_model"),i.exports=r=function(e){function t(){return this.sendResetSubmit=o(this.sendResetSubmit,this),this.signinSubmit=o(this.signinSubmit,this),t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.initialize=function(){return this.isBusy=new Bacon.Bus,this.alert=new Bacon.Bus,this.success=new Bacon.Bus,this.signin=new Bacon.Bus,this.sendReset=new Bacon.Bus,this.add("alert",this.alert.toProperty()),this.signin.onValue(this.signinSubmit),this.sendReset.onValue(this.sendResetSubmit),this.success.map(this.get("next")).onValue(function(e){return setTimeout(function(){return window.location.pathname=e},500)})},t.prototype.signinSubmit=function(e){var t,i;return t=JSON.stringify({password:e.password}),i=Bacon.fromPromise($.post(e.action,t)),this.success.plug(i.map(".success")),this.alert.plug(i.map(!1)),this.alert.plug(i.errors().mapError({status:"error",title:"wrong password title",message:"wrong password message"})),this.isBusy.plug(i.mapEnd(!1))},t.prototype.sendResetSubmit=function(){var e;return e=Bacon.fromPromise($.post("/login/forgot")),this.alert.plug(e.map({status:"success",title:"recover sent title",message:"recover sent message"}))},t}(a)}),require.register("states/registration",function(e,t,i){var r,a,o=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},p=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};a=t("lib/state_model"),i.exports=r=function(e){function t(){return this.setEmailSubmit=o(this.setEmailSubmit,this),this.signupSubmit=o(this.signupSubmit,this),t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.steps={preset:{next:"import",nextLabel:"sign up"},"import":{next:"email",nextLabel:"skip"},import_google:{nocontrols:!0},email:{next:"setup",nextLabel:"skip"},setup:{next:"welcome",nocontrols:!0},welcome:{nextLabel:"welcome"}},t.prototype.initialize=function(){return this.errors=new Bacon.Bus,this.initStep(),this.initControls(),this.initSignup(),this.initSetEmail()},t.prototype.setStep=function(e){return this.setStepBus.push(e)},t.prototype.initStep=function(){var e;return this.setStepBus=new Bacon.Bus,this.stepValve=new Bacon.Bus,e=this.setStepBus.holdWhen(this.stepValve.startWith(!1).toProperty()).filter(function(e){return function(t){return p.call(Object.keys(e.steps),t)>=0}}(this)).toProperty(null),this.add("step",e),this.add("nextStep",e.map(function(e){return function(t){var i;return(null!=(i=e.steps[t])?i.next:void 0)||null}}(this)))},t.prototype.initControls=function(){var e;return this.nextEnabled=new Bacon.Bus,this.nextBusy=new Bacon.Bus,this.nextLabel=new Bacon.Bus,e=Bacon.combineTemplate({enabled:this.nextEnabled.startWith(!0).toProperty(),busy:this.nextBusy.startWith(!1).toProperty(),label:this.nextLabel.startWith("next").toProperty(),visible:this.get("step").map(function(e){return function(t){var i;return!(null!=(i=e.steps[t])?i.nocontrols:void 0)}}(this))}),this.nextLabel.plug(this.get("step").map(function(e){return function(t){var i;return null!=(i=e.steps[t])?i.nextLabel:void 0}}(this))),this.setStepBus.filter(function(e){return function(t){return!(p.call(Object.keys(e.steps),t)>=0)}}(this)).onValue(function(e){return window.location.pathname=e}),this.add("nextControl",e)},t.prototype.initSignup=function(){return this.signup=new Bacon.Bus,this.stepValve.plug(this.get("step").map(function(e){return"preset"===e})),this.nextEnabled.plug(this.get("step").map(function(e){return"preset"!==e})),this.signup.onValue(this.signupSubmit)},t.prototype.signupSubmit=function(e){var t;return t=Bacon.fromPromise($.post("/register",JSON.stringify(e))),t.subscribe(function(){return window.username=e.public_name}),this.stepValve.plug(t.map(!1)),this.errors.plug(t.errors().mapError(".responseJSON.errors")),this.nextBusy.plug(t.mapEnd(!1))},t.prototype.initSetEmail=function(){return this.setEmail=new Bacon.Bus,this.setEmail.onValue(this.setEmailSubmit)},t.prototype.setEmailSubmit=function(e){var t,i;return i=e["imap-login"]||e.email,t={id:null,label:e.email,name:e.email.split("@")[0],login:i,password:e.password,accountType:"IMAP",draftMailbox:"",favoriteMailboxes:null,imapPort:e["imap-port"],imapSSL:e["imap-ssl"],imapServer:e["imap-server"],imapTLS:!1,smtpLogin:e["smtp-login"]||i,smtpMethod:"PLAIN",smtpPassword:e["smtp-password"]||e.password,smtpPort:e["smtp-port"],smtpSSL:e["smtp-ssl"],smtpServer:e["smtp-server"]||e["imap-server"],smtpTLS:!1,mailboxes:"",sentMailbox:"",trashMailbox:""},$.ajax({type:"POST",url:"/apps/emails/account",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json"})},t}(a)}),require.register("views/app_layout",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.template=t("views/templates/layout_app"),i.prototype.el="[role=application]",i.prototype.regions={content:".container"},i}(Mn.LayoutView)}),require.register("views/auth/feedback",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.template=t("views/templates/view_auth_feedback"),i.prototype.ui={forgot:"a.forgot"},i.prototype.serializeData=function(){return _.extend(this.model.toJSON(),{forgot:this.options.forgot,prefix:this.options.prefix})},i.prototype.initialize=function(){var e;return this.model.get("alert").subscribe(this.render),this.model.alert.map(function(e){return e.status?e.status:null}).assign(this.$el,"attr","class"),this.options.forgot?(e=this.$el.asEventStream("click",this.ui.forgot).doAction(".preventDefault"),this.model.sendReset.plug(e)):void 0},i}(Mn.ItemView)}),require.register("views/auth/index",function(e,i,r){var a,o,s={}.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};o=i("views/auth/feedback"),r.exports=a=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.tagName="form",r.prototype.className=function(){return""+this.options.type+" auth"},r.prototype.attributes=function(){var e;return e={method:"POST",action:this.options.backend}},r.prototype.template=i("views/templates/view_auth"),r.prototype.regions={feedback:".feedback"},r.prototype.ui={passwd:"input[type=password]",submit:".controls button[type=submit]"},r.prototype.serializeData=function(){return{username:window.username,prefix:this.options.type}},r.prototype.initialize=function(){var e,t,i,r;return i=this.$el.asEventStream("focus keyup blur",this.ui.passwd).map(".target.value").toProperty(""),this.passwordEntered=i.map(function(e){return!!e}),r=this.$el.asEventStream("click",this.ui.submit).doAction(".preventDefault").filter(this.passwordEntered),t={password:i,action:this.options.backend},e=Bacon.combineTemplate(t).sampledBy(r),this.model.isBusy.plug(e.map(!0)),this.model.signin.plug(e)},r.prototype.onRender=function(){return this.showChildView("feedback",new o({forgot:"login"===this.options.type,prefix:this.options.type,model:this.model})),this.passwordEntered.not().assign(this.ui.submit,"attr","aria-disabled"),this.ui.passwd.asEventStream("focus").assign(this.ui.passwd[0],"select"),setTimeout(function(e){return function(){return e.ui.passwd.focus()}}(this),100),this.model.isBusy.assign(this.ui.submit,"attr","aria-busy"),this.model.success.map(function(e){return function(){return $("<i/>",{"class":"fa fa-check",text:t(""+e.options.type+" auth success")})}}(this)).assign(this.ui.submit,"html"),this.model.success.assign(this.ui.submit,"toggleClass","btn-success")},r}(Mn.LayoutView)}),require.register("views/lib/form_view",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.inputsStream=this.$el.asEventStream("keyup blur change",this.ui.inputs),this.submitStream=this.$el.asEventStream("submit").doAction(".preventDefault").filter(function(e){return function(){return e.model.get("nextControl").map(".enabled")}}(this))}return o(t,e),t.prototype.tagName="form",t.prototype.ui={labels:"label.with-input",inputs:"label input"},t.prototype.initForm=function(){var e,t,i;return t={},i=Bacon.constant(!0),e=function(e){return"checkbox"===e.type?e.checked:e.value},this.ui.inputs.map(function(r){return function(a,o){var s;return s=r.inputsStream.map(".target").filter(function(e){return e===o}).map(e).toProperty(e(o)),t[o.name]=s,o.required?i=i.and(s.map(function(e){return!!e})):void 0}}(this)),this.model.setStepBus.plug(this.submitStream.map(this.model.get("nextStep"))),this.form=Bacon.combineTemplate(t).sampledBy(this.model.nextClickStream.merge(this.submitStream)).filter(i),this.required=i},t.prototype.initErrors=function(){var e,t,i,r,a,o,s;i=function(e){return!!e},t=function(e){return $("<p/>",{"class":"error",text:e})},this.model.errors.filter(function(e){return!!e}).subscribe(function(e){return function(){return e.ui.labels.find(".error").remove()}}(this)),o=this.errors,s=[];for(r in o)a=o[r],e=this.ui.labels.filter("[for=preset-"+r+"]"),a.map(i).assign(e,"attr","aria-invalid"),s.push(a.filter(i).map(t).assign(e,"append"));return s},t}(Mn.ItemView)}),require.register("views/register/controls",function(e,i,r){var a,o={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};r.exports=a=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,e),r.prototype.template=i("views/templates/view_register_controls"),r.prototype.ui={next:"a.btn"},r.prototype.initialize=function(){var e;return e=this.$el.asEventStream("click",this.ui.next).doAction(".preventDefault").map(function(e){return e.target.href.split("=")[1]||"/"}).filter(function(e){return function(){return e.model.get("nextControl").map(".enabled")}}(this)),this.model.nextClickStream=e,this.model.setStepBus.plug(e)},r.prototype.onRender=function(){var e;return this.model.get("nextControl").map(".enabled").not().assign(this.ui.next,"attr","aria-disabled"),this.model.get("nextControl").map(".busy").assign(this.ui.next,"attr","aria-busy"),
this.model.get("nextStep").map(function(e){return e?"register?step="+e:"/"}).assign(this.ui.next,"attr","href"),this.model.get("nextControl").map(".label").map(function(e){return function(){return t(e)}}).assign(this.ui.next,"text"),e=this.model.get("nextControl").map(".label").map(function(e){return"skip"===e}),e.assign(this.ui.next,"toggleClass","btn-secondary"),e.not().assign(this.ui.next,"toggleClass","btn-primary")},r}(Mn.ItemView)}),require.register("views/register/email",function(e,t,i){var r,a,o={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};r=t("views/lib/form_view"),i.exports=a=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.className="email",i.prototype.template=t("views/templates/view_register_email"),i.prototype.initialize=function(){return this.ui.legend=".advanced legend",this.ui.adv=".advanced .content",this.ui.ssl="input[type=checkbox][aria-controls]",this.showAdv=this.$el.asEventStream("click",this.ui.legend).scan(!1,function(e){return!e}),this.sslCheck=this.$el.asEventStream("change",this.ui.ssl).map(".target")},i.prototype.onRender=function(){var e;return this.showAdv.not().assign(this.ui.adv,"attr","aria-hidden"),this.showAdv.assign(this.ui.legend,"attr","aria-hidden"),null!=(e=this.model.get("email"))&&e.assign(this.ui.inputs.filter("#email-email"),"val"),this.initSSLCheckboxes(),this.bindSMTPServer(),this.initForm(),this.model.setEmail.plug(this.form.filter(function(e){return function(){return e.model.get("step").map(function(e){return"email"===e||"setup"===e})}}(this))),this.model.nextLabel.plug(this.required.map(function(e){return e?"add email":"skip"}))},i.prototype.initSSLCheckboxes=function(){return this.ui.ssl.each(function(e){return function(t,i){var r,a;return a=i.id.match(/email-([a-z]{4})-ssl/i)[1],r=e.$("#"+i.getAttribute("aria-controls")),e.sslCheck.filter(function(e){return e===i}).map(function(e){var t;switch(t=e.checked,a){case"imap":return t?993:143;case"smtp":return t?465:25}}).assign(r,"val")}}(this))},i.prototype.bindSMTPServer=function(){var e,t;return e=this.ui.inputs.filter("#email-imap-server"),t=this.ui.inputs.filter("#email-smtp-server"),t.asEventStream("keyup").map(function(e){return!!e.target.value.length}).assign(t,"data","edited"),e.asEventStream("keyup").map(".target.value").filter(function(){return t.data("edited")}).assign(t,"val")},i}(r)}),require.register("views/register/feedback",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.template=t("views/templates/view_register_feedback"),i.prototype.onRender=function(){return this.model.get("step").map(function(e){return function(){return this.classList.contains(e)}}).assign(this.$("li"),"attr","aria-selected"),this.model.get("step").map(function(e){return/^welcome/.test(e)}).assign(this.$el,"attr","aria-hidden")},i}(Mn.ItemView)}),require.register("views/register/import",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.className="import",i.prototype.template=t("views/templates/view_register_import"),i.prototype.ui={google:"#import-google"},i.prototype.initialize=function(){var e;return e=this.$el.asEventStream("click",this.ui.google).doAction(".preventDefault").map(function(e){return e.target.href.split("=")[1]}),this.model.setStepBus.plug(e)},i}(Mn.ItemView)}),require.register("views/register/import_google",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.className="import-google",i.prototype.template=t("views/templates/view_register_import_google"),i.prototype.events={"click #lg-ok":"selectedScopes","click #step-pastecode-ok":"pastedCode","click #cancel":"cancel"},i.prototype.pastedCode=function(e){var t;return e.preventDefault(),null!=(t=this.popup)&&t.close(),this.changeStep("pickscope"),this.auth_code=this.$("input:text[name=auth_code]").val(),this.$("input:text[name=auth_code]").val("")},i.prototype.selectedScopes=function(e){var t,i;return e.preventDefault(),i={photos:!1,calendars:this.$("input:checkbox[name=calendars]").prop("checked"),contacts:this.$("input:checkbox[name=contacts]").prop("checked"),sync_gmail:this.$("input:checkbox[name=sync_gmail]").prop("checked")},$.post("/apps/import-from-google/lg",{auth_code:this.auth_code,scope:i}),t=[],i.contacts&&t.push("contacts"),i.calendars&&t.push("calendars"),t.length&&this.model.add("imports",Bacon.constant(t)),this.model.setStep("setup")},i.prototype.changeStep=function(e){return this.$(".step").hide(),this.$("#step-"+e).show(),"pastecode"===e?this.$("#auth_code").focus():void 0},i.prototype.cancel=function(){return this.model.setStep("import")},i.prototype.onRender=function(){var e,t,i,r;return this.changeStep("pastecode"),i=["toolbars=0","width=700","height=600","left=200","top=200","scrollbars=1","resizable=1"].join(","),r=["https://www.googleapis.com/auth/calendar.readonly","https://picasaweb.google.com/data/","https://www.googleapis.com/auth/contacts.readonly","email","https://mail.google.com/","profile"].join(" "),e="260645850650-2oeufakc8ddbrn8p4o58emsl7u0r0c8s",e+=".apps.googleusercontent.com",t="https://accounts.google.com/o/oauth2/auth",t+="?scope="+encodeURIComponent(r),t+="&response_type=code",t+="&client_id="+e,t+="&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob",this.popup=window.open(t,"Google OAuth",i),this.changeStep("pastecode")},i}(Mn.ItemView)}),require.register("views/register/index",function(e,t,i){var r,a,o,s=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,p=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};r=t("views/register/controls"),a=t("views/register/feedback"),i.exports=o=function(e){function i(){return this.swapStep=s(this.swapStep,this),i.__super__.constructor.apply(this,arguments)}return p(i,e),i.prototype.className="register",i.prototype.template=t("views/templates/view_base"),i.prototype.regions={content:"[role=region]",controls:".controls",feedback:".feedback"},i.prototype.ui={footer:"footer"},i.prototype.initialize=function(){return this.model.get("step").onValue(this.swapStep)},i.prototype.onRender=function(){return this.showChildView("controls",new r({model:this.model})),this.showChildView("feedback",new a({model:this.model})),this.model.get("nextControl").map(".visible").not().assign(this.ui.footer,"attr","aria-hidden")},i.prototype.swapStep=function(e){var i;if(e)return i=t("views/register/"+e),this.showChildView("content",new i({model:this.model}))},i}(Mn.LayoutView)}),require.register("views/register/preset",function(e,t,i){var r,a,o={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};r=t("views/lib/form_view"),i.exports=a=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.className="preset",i.prototype.attributes={method:"post",action:"/register"},i.prototype.template=t("views/templates/view_register_preset"),i.prototype.serializeData=function(){return{timezones:t("lib/timezones")}},i.prototype.initialize=function(){var e;return e=this.$el.asEventStream("blur","#preset-email").map(".target.value").toProperty(""),this.model.add("email",e),this.errors={email:this.model.errors.map(".email"),password:this.model.errors.map(".password"),timezone:this.model.errors.map(".timezone")}},i.prototype.onRender=function(){var e;return this.initForm(),this.initErrors(),this.model.nextEnabled.plug(this.required.changes()),e=this.form.filter(function(e){return function(){return e.model.get("step").map(function(e){return"preset"===e})}}(this)),this.model.signup.plug(e),this.model.nextBusy.plug(e.map(!0))},i}(r)}),require.register("views/register/setup",function(e,t,i){var r,a,o,s,n=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty,u=function(e,t){function i(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},l=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};s=null,a=function(e){var t;return s||(s=window.io(window.location.origin,{path:"/apps/import-from-google/socket.io",reconnectionDelayMax:6e4,reconectionDelay:2e3,reconnectionAttempts:3})),t="calendars"===e?"events":e,Bacon.fromBinder(function(i){return i(0),s.on(e,function(e){return i(Math.floor(e.number/e.total*100))}),s.on(""+t+".end",function(){return i(100),i(new Bacon.End)}),function(){}})},o=function(){var e;return e=[].reduce.call(arguments,function(e,t){return e+t},0),e/arguments.length},i.exports=r=function(e){function i(){return this.initCounter=n(this.initCounter,this),i.__super__.constructor.apply(this,arguments)}return u(i,e),i.prototype.className="setup",i.prototype.template=t("views/templates/view_register_setup"),i.prototype.ui={bar:"progress"},i.prototype.initialize=function(){return this.model.get("imports").onValue(this.initCounter)},i.prototype.onRender=function(){return this.progress.assign(this.ui.bar,"val")},i.prototype.initCounter=function(e){var t,i,r;return r=Bacon.interval(80,1).take(100).scan(0,function(e,t){return e+t}),e?(t=[o,r.toProperty()],l.call(e,"contacts")>=0&&t.push(a("contacts").toProperty()),l.call(e,"calendars")>=0&&t.push(a("calendars").toProperty()),this.progress=Bacon.combineWith.apply(Bacon,t)):this.progress=r.toProperty(),i=this.progress.filter(function(e){return e>=100}).map(this.model.steps.setup.next),this.model.setStepBus.plug(i)},i}(Mn.ItemView)}),require.register("views/register/welcome",function(e,t,i){var r,a={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i.exports=r=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.className="welcome",i.prototype.template=t("views/templates/view_register_welcome"),i}(Mn.ItemView)}),require.register("views/templates/layout_app",function(e,t,i){var r=function(e){var t=[];return t.push('<section class="popup"><header></header><div class="container"></div></section>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return r}):"object"==typeof i&&i&&i.exports&&(i.exports=r)}),require.register("views/templates/view_auth",function(e,i,r){var a=function(e){var i,r=[],a=e||{},o=a.prefix,s=a.username;return r.push('<div role="region"><h1>'+jade.escape(null==(i=t(o+" welcome"))?"":i)+" "+jade.escape(null==(i=s)?"":i)+'</h1><p id="login-password-tip" class="help">'+jade.escape(null==(i=t(o+" enter your password"))?"":i)+"</p><label"+jade.attr("for",""+o+"-password",!0,!1)+jade.attr("aria-describedby",""+o+"-password-tip",!0,!1)+' class="with-input"><span>'+jade.escape(null==(i=t(o+" password"))?"":i)+"</span><input"+jade.attr("id",""+o+"-password",!0,!1)+' name="password" type="password" autofocus="autofocus"/></label></div><footer><div class="controls"><button type="submit" class="btn btn-primary">'+jade.escape(null==(i=t(o+" submit"))?"":i)+'</button></div><div class="feedback"></div></footer>'),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_auth_feedback",function(e,i,r){var a=function(e){var i,r=[],a=e||{},o=a.alert,s=a.prefix,n=a.forgot,p=a.label;return o&&r.push('<div class="alert"><p><strong>'+jade.escape(null==(i=t(s+" "+o.title))?"":i)+"</strong></p><p>"+jade.escape(null==(i=t(s+" "+o.message))?"":i)+"</p></div>"),n&&(r.push('<div class="recover">'),p=t(o&&"success"==o.status?"login recover again":"login recover"),r.push('<a href="/login/forgot" class="forgot">'+jade.escape(null==(i=p)?"":i)+"</a></div>")),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_base",function(e,t,i){var r=function(e){var t=[];return t.push('<div role="region"></div><footer><div class="controls"></div><div class="feedback"></div></footer>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return r}):"object"==typeof i&&i&&i.exports&&(i.exports=r)}),require.register("views/templates/view_register_controls",function(e,i,r){var a=function(e){var i,r=[];return r.push('<a href="/register?step=null" class="btn btn-primary">'+jade.escape(null==(i=t("next"))?"":i)+"</a>"),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_email",function(e,i,r){var a=function(e){var i,r=[];return r.push("<h2>"+jade.escape(null==(i=t("email caption"))?"":i)+'</h2><label for="email-email" class="with-input"><span>'+jade.escape(null==(i=t("email email"))?"":i)+'</span><input id="email-email" type="email" name="email" required="required"/></label><label for="email-password" class="with-input"><span>'+jade.escape(null==(i=t("email password"))?"":i)+'</span><input id="email-password" type="password" name="password" required="required"/></label><div class="input-group input-group-02-third"><label for="email-imap-server" class="with-input"><span>'+jade.escape(null==(i=t("email imap server"))?"":i)+'</span><input id="email-imap-server" type="text" name="imap-server" required="required"/></label><label for="email-imap-port" class="with-input"><span>'+jade.escape(null==(i=t("email imap port"))?"":i)+'</span><input id="email-imap-port" type="number" name="imap-port" required="required" value="993"/></label></div><label for="email-imap-ssl" class="checkbox"><input id="email-imap-ssl" type="checkbox" name="imap-ssl" checked="checked" aria-controls="email-imap-port"/><span>'+jade.escape(null==(i=t("email imap ssl"))?"":i)+'</span></label><fieldset class="advanced"><legend>'+jade.escape(null==(i=t("email show advanced"))?"":i)+'</legend><div class="content"><label for="email-imap-login" aria-describedby="email-imap-login-tip" class="with-input"><span>'+jade.escape(null==(i=t("email imap login"))?"":i)+'</span><input id="email-imap-login" type="text" name="imap-login"/></label><p id="email-login-tip" class="tips">'+jade.escape(null==(i=t("email imap login tip"))?"":i)+'</p><hr/><div class="input-group input-group-02-third"><label for="email-smtp-server" class="with-input"><span>'+jade.escape(null==(i=t("email smtp server"))?"":i)+'</span><input id="email-smtp-server" type="text" name="smtp-server"/></label><label for="email-smtp-port" class="with-input"><span>'+jade.escape(null==(i=t("email smtp port"))?"":i)+'</span><input id="email-smtp-port" type="number" name="smtp-port" value="465"/></label></div><label for="email-smtp-ssl" class="checkbox"><input id="email-smtp-ssl" type="checkbox" name="smtp-ssl" checked="checked" aria-controls="email-smtp-port"/><span>'+jade.escape(null==(i=t("email smtp ssl"))?"":i)+'</span></label><label for="email-smtp-login" aria-describedby="email-smtp-login-tip" class="with-input"><span>'+jade.escape(null==(i=t("email smtp login"))?"":i)+'</span><input id="email-smtp-login" type="email" name="smtp-login"/></label><p id="email-login-tip" class="tips">'+jade.escape(null==(i=t("email smtp login tip"))?"":i)+'</p><label for="email-smtp-password" aria-describedby="email-smtp-password-tip" class="with-input"><span>'+jade.escape(null==(i=t("email smtp password"))?"":i)+'</span><input id="email-password" type="password" name="smtp-password"/></label><p id="email-login-tip" class="tips">'+jade.escape(null==(i=t("email smtp password tip"))?"":i)+'</p></div></fieldset><p id="email-email-tip" class="tips">'+jade.escape(null==(i=t("email email tip"))?"":i)+"</p>"),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_feedback",function(e,i,r){var a=function(e){var i,r=[];return r.push('<ul><li class="preset">'+jade.escape(null==(i=t("step preset"))?"":i)+'</li><li class="import">'+jade.escape(null==(i=t("step import"))?"":i)+'</li><li class="email">'+jade.escape(null==(i=t("step email settings"))?"":i)+"</li></ul>"),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_import",function(e,i,r){var a=function(e){var i,r=[];return r.push('<div id="import-google" class="content-block"><div class="content-illustration google-services"></div><h2>'+jade.escape(null==(i=t("import google account"))?"":i)+"</h2><p>"+jade.escape(null==(i=t("import google account tip"))?"":i)+'</p><a id="import-google" type="button" href="/register?step=import_google" class="btn btn-primary">'+jade.escape(null==(i=t("import google account sign in"))?"":i)+"</a></div>"),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_import_google",function(e,i,r){var a=function(e){var i,r=[];return r.push('<div id="import-google" class="content-block"><h2>'+jade.escape(null==(i=t("leave google title"))?"":i)+'</h2><section id="step-pastecode" class="step"><p>'+jade.escape(null==(i=t("leave google code content"))?"":i)+'</p><form><label for="google-code" class="with-input"><span>'+jade.escape(null==(i=t("leave google code"))?"":i)+'</span><input id="auth_code" type="text" name="auth_code" required="required" autofocus="autofocus"/></label><div class="btn-group btn-group-02"><button id="cancel" class="btn btn-secondary">'+jade.escape(null==(i=t("cancel"))?"":i)+'</button><button id="step-pastecode-ok" class="btn btn-primary">'+jade.escape(null==(i=t("confirm"))?"":i)+'</button></div></form></section><section id="step-pickscope" class="step google-services-list"><p>'+jade.escape(null==(i=t("leave google choice"))?"":i)+'</p><label for="google-gmail-sync"><input id="google-gmail-sync" type="checkbox" name="sync_gmail" value="sync_gmail" checked="checked"/><span class="google-services-icons gmail"></span><span>'+jade.escape(null==(i=t("leave google choice sync gmail"))?"":i)+'</span></label><label for="google-contacts-import"><input id="google-contacts-import" type="checkbox" name="contacts" value="contacts" checked="checked"/><span class="google-services-icons contacts"></span><span>'+jade.escape(null==(i=t("leave google choice contacts"))?"":i)+'</span></label><label for="google-calendar-import"><input id="google-calendar-import" type="checkbox" name="calendars" value="calendars" checked="checked"/><span class="google-services-icons calendar"></span><span>'+jade.escape(null==(i=t("leave google choice calendar"))?"":i)+'</span></label><div class="btn-group btn-group-02"><button id="cancel" class="btn btn-secondary">'+jade.escape(null==(i=t("cancel"))?"":i)+'</button><button id="lg-ok" class="btn btn-primary">'+jade.escape(null==(i=t("leave google confirm"))?"":i)+"</button></div></section></div>"),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_preset",function(e,i,r){var a=function(e){var i,r=[],a=e||{},o=a.timezones;return r.push('<label for="preset-email" aria-describedby="preset-email-tip" class="with-input"><span>'+jade.escape(null==(i=t("preset email"))?"":i)+'</span><input id="preset-email" type="email" name="email" autofocus="autofocus" required="required"/><span class="indicator"><span class="fa fa-exclamation-triangle"></span></span></label><p id="preset-email-tip" class="tips">'+jade.escape(null==(i=t("preset email tip"))?"":i)+'</p><label for="preset-name" aria-describedby="preset-name-tip" class="with-input"><span>'+jade.escape(null==(i=t("preset name"))?"":i)+'</span><input id="preset-name" type="text" name="public_name" required="required"/></label><p id="preset-name-tip" class="tips">'+jade.escape(null==(i=t("preset name tip"))?"":i)+'</p><label for="preset-password" aria-describedby="preset-password-tip" class="with-input"><span>'+jade.escape(null==(i=t("preset password"))?"":i)+'</span><input id="preset-password" type="password" name="password" required="required"/><span class="indicator"><span class="fa fa-exclamation-triangle"></span></span></label><p id="preset-email-tip" class="tips">'+jade.escape(null==(i=t("preset password tip"))?"":i)+'</p><label for="preset-timezone" aria-describedby="preset-timezone-tip" class="with-input"><span>'+jade.escape(null==(i=t("preset timezone"))?"":i)+'</span><input id="preset-timezone" type="text" name="timezone" list="preset-timezone-datalist" required="required"/><datalist id="preset-timezone-datalist">'),function(){var e=o;if("number"==typeof e.length)for(var t=0,i=e.length;i>t;t++){var a=e[t];r.push("<option"+jade.attr("value",a,!0,!1)+"></option>")}else{var i=0;for(var t in e){i++;var a=e[t];r.push("<option"+jade.attr("value",a,!0,!1)+"></option>")}}}.call(this),r.push('</datalist><span class="indicator"><span class="fa fa-exclamation-triangle"></span></span></label><p id="preset-timezone-tip" class="tips">'+jade.escape(null==(i=t("preset timezone tip"))?"":i)+'</p><div class="checkboxes"><label for="preset-help-us" class="checkbox"><input id="preset-help-us" type="checkbox" name="allow_stats" checked="checked"/><span>'+jade.escape(null==(i=t("preset opt-in help"))?"":i)+'</span></label></div><button type="submit" aria-hidden="true"></button>'),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_setup",function(e,i,r){var a=function(e){var i,r=[];return r.push("<h1>"+jade.escape(null==(i=t("setup title"))?"":i)+'</h1><p class="help">'+jade.escape(null==(i=t("setup message"))?"":i)+'</p><progress value="0" max="100"></progress><h1>'+jade.escape(null==(i=t("setup on mobile title"))?"":i)+'</h1><p class="help">'+jade.escape(null==(i=t("setup on mobile message"))?"":i)+'</p><a href="https://play.google.com/store/apps/details?id=io.cozy.files_client" target="_blank" class="btn-store"><img src="/img/google-play-btn.svg" alt="Get it on Google Play"/></a>'),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)}),require.register("views/templates/view_register_welcome",function(e,i,r){var a=function(e){var i,r=[];return r.push("<h1>"+jade.escape(null==(i=t("welcome title"))?"":i)+'</h1><p class="help">'+jade.escape(null==(i=t("welcome message"))?"":i)+"</p>"),r.join("")};"function"==typeof define&&define.amd?define([],function(){return a}):"object"==typeof r&&r&&r.exports&&(r.exports=a)});